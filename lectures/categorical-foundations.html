<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Foundations of Relative Category Theory | The Nursery</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Foundations of Relative Category Theory" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A mathematical web page." />
<meta property="og:description" content="A mathematical web page." />
<link rel="canonical" href="https://www.jonsmsterling.com//math/lectures/categorical-foundations.html" />
<meta property="og:url" content="https://www.jonsmsterling.com//math/lectures/categorical-foundations.html" />
<meta property="og:site_name" content="The Nursery" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2022-01-01T00:00:00+01:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Foundations of Relative Category Theory" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Foundations of Relative Category Theory","dateModified":"2022-01-01T00:00:00+01:00","datePublished":"2022-01-01T00:00:00+01:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.jonsmsterling.com//math/lectures/categorical-foundations.html"},"description":"A mathematical web page.","url":"https://www.jonsmsterling.com//math/lectures/categorical-foundations.html","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/math/assets/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css" integrity="sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs" crossorigin="anonymous">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js" integrity="sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js" integrity="sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/microtip@0.2.2/microtip.min.css" integrity="sha256-RUSUTTyNeNKfP+mJISBiUTVElF6MSDsJcwYZrcSyUII=" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/mark.js@8.11.1/dist/mark.min.js" integrity="sha256-IdYuEFP3WJ/mNlzM18Y20Xgav3h5pgXYzl8fW4GnuPo=" crossorigin="anonymous"></script>

<script src="https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js" integrity="sha256-DFDZACuFeAqEKv/7Vnu1Tt5ALa58bcWZegGGFNgET8g=" crossorigin="anonymous"></script>

<script>
  const macros_promise =
    
    fetch("/math/assets/macros/topos.katex.json").then(response => response.json());
    ;

  document.addEventListener("DOMContentLoaded", function () {
    macros_promise.then(
      function (macros) {
        renderMathInElement(document.body, {
          delimiters: [
            { left: '$$', right: '$$', display: true },
            { left: '$', right: '$', display: false },
            { left: '\\[', right: '\\]', display: true }
          ],
          macros: macros,
          throwOnError: false
        });
      });
  });

</script>

<style>
  .katex { line-height: 1 !important; }
  .antex.display { display: flex; padding: 1em; }
  .antex.display > img { margin: 0 auto !important; }
</style>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/math/">The Nursery</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          <a class="page-link" id="search-toggle">Search</a><a class="page-link" href="/math/changelog.html">Recent changes</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <style>
  ul.toc li.ellipsis {
    height: 0;
    overflow: hidden;
  }
  section.ellipsis > header {
    opacity: 0.5;
    border-bottom: 3px dashed black;
  }
  section.ellipsis > :not(header) {
    display: none;
  }
  #search-form {
    margin-bottom: 2rem;
  }
  #search-form fieldset {
    display: flex;
    flex-wrap: wrap;
  }
  #search-form input {
    flex-grow: 1;
  }
  #search-form .hint {
    flex-basis: 100%;
    margin: 0;
  }
  #search-form .hint summary {
    font-size: small;
  }
</style>

<script src="/math/assets/search.js"></script>

<form id="search-form" hidden>
  <fieldset>
    <legend>Search</legend>
    <input autocomplete="off" type="search" id="search-query" name="q" placeholder="Search...."/>
    <button type="submit">Search</button>
    <button type="reset">Clear</button>
    <details class="hint">
      <summary>Click here for help.</summary>
      <ul>
        <li>You can type your query in the input box, click "Search" to start the search, and click "Clear" to clear the page.</li>
        <li>The search happens on the current page. If you want to extend it, navigate the book upwards. A search on the root note will search the whole book.</li>
        <li>Once the search is completed, matches will be highlighted and nodes with no matches will be folded. You can expand them by clicking.</li>
        <li>Multiple terms are allowed in the query and the default behaviour is <code>OR</code>ing them. You can <code>AND</code> terms making them mandatory, see <code>+foo</code> below.</li>
        <li><code>*foo</code>, <code>f*o</code>, and <code>fo*</code> are all allowed wildcards.</li>
        <li><code>+foo</code> makes a term mandatory, while <code>-foo</code> makes a term forbidden.</li>
        <li><code>foo~n</code> fuzzy matches within edit distance <code>n</code> (a positive number) from the term.</li>
        <li>Note that the URL changes after a search. You can copy and paste it to share your search results. They will be displayed immediately upon visiting the URL.</li>
      </ul>
    </details>
  </fieldset>
</form>


<article class="post">
  <nav>
    <style>
  .breadcrumbs {
    font-size: small;
    margin-bottom: 1.5em;
  }
</style>



  </nav>

  <div class="post-content">
    <section id="categorical-foundations">


<header>
  <h1>
    
      Foundations of Relative Category Theory
    
  </h1><p>
    by 
      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
      <span class="p-author h-card" itemprop="name">Jonathan Sterling</span></span>, 
      <span itemprop="author" itemscope itemtype="http://schema.org/Person">
      <span class="p-author h-card" itemprop="name">Carlo Angiuli</span></span>
  </p></header>


  
  
    <nav>
      <h4>Table of Contents</h4>
      <ul class="toc">
  
  <li>
    1.
    <a href="#000R">
      Foundational assumptions
    </a>
    <a class="slug" href="/math/nodes/000R.html">[000R]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.
    <a href="#0008">
      Displayed categories and fibrations
    </a>
    <a class="slug" href="/math/nodes/0008.html">[0008]</a>
    <ul class="toc">
  
  <li>
    2.1.
    <a href="#0003">
      The fundamental self-indexing
    </a>
    <a class="slug" href="/math/nodes/0003.html">[0003]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.2.
    <a href="#0014">
      The generalized pullback lemma
    </a>
    <a class="slug" href="/math/nodes/0014.html">[0014]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.3.
    <a href="#0029">
      An alternative definition of fibration
    </a>
    <a class="slug" href="/math/nodes/0029.html">[0029]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.4.
    <a href="#0004">
      Displayed and fibered functors
    </a>
    <a class="slug" href="/math/nodes/0004.html">[0004]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.5.
    <a href="#0005">
      Fiber categories and vertical maps
    </a>
    <a class="slug" href="/math/nodes/0005.html">[0005]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.6.
    <a href="#000Q">
      Opposite categories
    </a>
    <a class="slug" href="/math/nodes/000Q.html">[000Q]</a>
    <ul class="toc">
  
  <li>
    2.6.1.
    <a href="#000T">
      Characterization of cartesian maps
    </a>
    <a class="slug" href="/math/nodes/000T.html">[000T]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.6.2.
    <a href="#000U">
      Cartesian lifts in the opposite category
    </a>
    <a class="slug" href="/math/nodes/000U.html">[000U]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.6.3.
    <a href="#000S">
      Exegesis of opposite categories
    </a>
    <a class="slug" href="/math/nodes/000S.html">[000S]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    2.7.
    <a href="#0006">
      Example: the family fibration
    </a>
    <a class="slug" href="/math/nodes/0006.html">[0006]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.8.
    <a href="#0007">
      Change of base
    </a>
    <a class="slug" href="/math/nodes/0007.html">[0007]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    2.9.
    <a href="#002J">
      Full subfibrations and figure shapes
    </a>
    <a class="slug" href="/math/nodes/002J.html">[002J]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    3.
    <a href="#0009">
      The Grothendieck construction
    </a>
    <a class="slug" href="/math/nodes/0009.html">[0009]</a>
    <ul class="toc">
  
  <li>
    3.1.
    <a href="#000A">
      The total category and its projection
    </a>
    <a class="slug" href="/math/nodes/000A.html">[000A]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    3.2.
    <a href="#000B">
      Displayed categories from functors
    </a>
    <a class="slug" href="/math/nodes/000B.html">[000B]</a>
    <ul class="toc">
  
  <li>
    3.2.1.
    <a href="#000C">
      Relationship to Street's fibrations
    </a>
    <a class="slug" href="/math/nodes/000C.html">[000C]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    3.3.
    <a href="#000D">
      Iteration and pushforward
    </a>
    <a class="slug" href="/math/nodes/000D.html">[000D]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    4.
    <a href="#000E">
      Properties of fibrations
    </a>
    <a class="slug" href="/math/nodes/000E.html">[000E]</a>
    <ul class="toc">
  
  <li>
    4.1.
    <a href="#000F">
      Locally small fibrations
    </a>
    <a class="slug" href="/math/nodes/000F.html">[000F]</a>
    <ul class="toc">
  
  <li>
    4.1.1.
    <a href="#000G">
      Warmup: locally small family fibrations
    </a>
    <a class="slug" href="/math/nodes/000G.html">[000G]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    4.1.2.
    <a href="#000H">
      A more abstract formulation
    </a>
    <a class="slug" href="/math/nodes/000H.html">[000H]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    4.1.3.
    <a href="#000I">
      The definition of local smallness
    </a>
    <a class="slug" href="/math/nodes/000I.html">[000I]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    4.2.
    <a href="#000J">
      Globally small fibrations
    </a>
    <a class="slug" href="/math/nodes/000J.html">[000J]</a>
    <ul class="toc">
  
  <li>
    4.2.1.
    <a href="#000K">
      Generic objects
    </a>
    <a class="slug" href="/math/nodes/000K.html">[000K]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    4.3.
    <a href="#002E">
      Separators for cartesian fibrations
    </a>
    <a class="slug" href="/math/nodes/002E.html">[002E]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    4.4.
    <a href="#002L">
      Definable classes à la Bénabou
    </a>
    <a class="slug" href="/math/nodes/002L.html">[002L]</a>
    <ul class="toc">
  
  <li>
    4.4.1.
    <a href="#002Q">
      Set-theoretic intuition for Bénabou's definability
    </a>
    <a class="slug" href="/math/nodes/002Q.html">[002Q]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    4.4.2.
    <a href="#002S">
      Bénabou's notion of definability
    </a>
    <a class="slug" href="/math/nodes/002S.html">[002S]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    5.
    <a href="#000N">
      Small fibrations and internal categories
    </a>
    <a class="slug" href="/math/nodes/000N.html">[000N]</a>
    <ul class="toc">
  
  <li>
    5.1.
    <a href="#000O">
      Internal categories
    </a>
    <a class="slug" href="/math/nodes/000O.html">[000O]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    5.2.
    <a href="#000V">
      The externalization of an internal category
    </a>
    <a class="slug" href="/math/nodes/000V.html">[000V]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    5.3.
    <a href="#0011">
      The full internal subcategory associated to a displayed object
    </a>
    <a class="slug" href="/math/nodes/0011.html">[0011]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    5.4.
    <a href="#000Z">
      The internalization of a small fibration
    </a>
    <a class="slug" href="/math/nodes/000Z.html">[000Z]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    6.
    <a href="#0012">
      Other kinds of fibrations
    </a>
    <a class="slug" href="/math/nodes/0012.html">[0012]</a>
    <ul class="toc">
  
  <li>
    6.1.
    <a href="#0015">
      Cocartesian fibrations
    </a>
    <a class="slug" href="/math/nodes/0015.html">[0015]</a>
    <ul class="toc">
  
  <li>
    6.1.1.
    <a href="#0018">
      The total opposite of a displayed category
    </a>
    <a class="slug" href="/math/nodes/0018.html">[0018]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    6.1.2.
    <a href="#002X">
      Example: Revisiting the fundamental self-indexing
    </a>
    <a class="slug" href="/math/nodes/002X.html">[002X]</a>
    <ul class="toc">
  
</ul>


  </li>
  
  <li>
    6.1.3.
    <a href="#0019">
      Example: The dual self-indexing
    </a>
    <a class="slug" href="/math/nodes/0019.html">[0019]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
  <li>
    6.2.
    <a href="#0013">
      Right fibrations
    </a>
    <a class="slug" href="/math/nodes/0013.html">[0013]</a>
    <ul class="toc">
  
</ul>


  </li>
  
</ul>


  </li>
  
</ul>


    </nav>
  



  <p>We assume knowledge of basic categorical concepts such as categories, functors,
and natural transformations. The purpose of this lecture is to develop the
notion of a category <em>over</em> another category.</p>

  <p>We will draw on the following materials:</p>

  <blockquote>
    <ul>
      <li>Ahrens and Lumsdaine. <a href="https://arxiv.org/abs/1705.04296">Displayed Categories</a>.</li>
      <li>Benabou. Fibered categories and the foundations of naive category theory.</li>
      <li>Borceux. Handbook of Categorical Algebra 2: Categories and Structures.</li>
      <li>Jacobs.  <a href="https://people.mpi-sws.org/~dreyer/courses/catlogic/jacobs.pdf">Categorical Logic and Type Theory</a> .</li>
      <li>Streicher. <a href="https://www2.mathematik.tu-darmstadt.de/~streicher/FIBR/FiBo.pdf">Fibered Categories à la Jean Bénabou</a>.</li>
    </ul>
  </blockquote>

  <p>This material is deeply influenced by conversations with Thomas Streicher, as well as his writings.</p>

  <section id="000R">


<header>
  <h2>
    
      <span class="numbering">1.</span>
      Foundational assumptions
      <a class="slug" href="/math/nodes/000R.html">[000R]</a>
    
  </h2></header>




    <section id="001F">


<header class="inline">
  <a class="slug" href="/math/nodes/001F.html">[001F]</a>
  <span class='numbering'>Definition 1·a</span>.
</header>


      <p>A <em>meta-category</em> $\mathfrak{C}$ is defined by explaining what
an object of $\mathfrak{E}$ is, and, given two objects $x,y\in \mathfrak{E}$,
what a morphism from $x$ to $y$ is, together with the following operations:</p>

      <ol>
        <li>for each object $x\in \mathfrak{E}$, an <em>identity</em> map $\Idn{x} : x \to x$,</li>
        <li>for any two maps $f:x\to y$ and $g:y\to z$, a <em>composite map</em> $f;g : x \to z$,</li>
        <li>such that the following equations hold:
\[
  \Idn{x};h = h\qquad
  h;\Idn{y} = h\qquad
  f;(g;h) = (f;g);{h}
\]</li>
      </ol>

    </section>

    <p>In our definition above, we have not imposed any restrictions on what kinds of
things the objects and morphisms are; our definition is pre-mathematical, so we
do not assume beforehand that there is a such thing as a collection of “all”
meta-categories.</p>

    <p><strong>Remark.</strong> We may define analogous notions of meta-functor, etc. But we do not
assume that the notion of “all meta-functors $\mathfrak{C}\to\mathfrak{D}$” is
well-defined; the notion is entirely schematic.</p>

    <p><strong>Assumption.</strong> We assume a meta-category $\BoldSymbol{\mathfrak{Coll}}$ whose
objects we will refer to as “collections”. We assume that the meta-category of all collections satisfies the axioms of Lawvere’s <a href="http://ncatlab.org/nlab/show/ETCS">ETCS</a>.</p>

    <section id="001G">


<header class="inline">
  <a class="slug" href="/math/nodes/001G.html">[001G]</a>
  <span class='numbering'>Definition 1·b</span>.
</header>


      <p>A <em>category</em> $E$ is defined to be a meta-category whose objects
are defined to be the elements of some collection, and for any two objects
$x,y\in E$ the morphisms $x\to y$ are defined to be the elements of some
collection.</p>

    </section>

    <p>Consequently there exists a meta-category $\BoldSymbol{\mathfrak{Cat}}$ of all
categories. Following <a href="http://rfcwalters.blogspot.com/2010/10/old-post-why-are-we-concerned-fw.html">Lawvere</a> (but deviating from some other authors that
ground the notion of meta-categories in <em>classes</em>) we notice that
$\BoldSymbol{\mathfrak{Cat}}$ is cartesian closed; in other words, all functor
categories exist regardless of size.</p>

    <p><strong>Assumption.</strong> At times we may assume that there exists a <em>category</em>
$\SET\subseteq\BoldSymbol{\mathfrak{Coll}}$ of collections that we will refer
to as sets, such that $\SET$ is closed under the axioms of <a href="http://ncatlab.org/nlab/show/ETCS">ETCS</a>. Rather than work with $\SET$ at all
times, our approach is to use the tools of relative category theory to
objectify the notions of “small” and “locally small” category over any category
$B$, generalizing the role of $\SET$ from classical category theory.</p>

  </section>

  <section id="0008">


<header>
  <h2>
    
      <span class="numbering">2.</span>
      Displayed categories and fibrations
      <a class="slug" href="/math/nodes/0008.html">[0008]</a>
    
  </h2></header>




    <section id="0000">


<header class="inline">
  <a class="slug" href="/math/nodes/0000.html">[0000]</a>
  <span class='numbering'>Definition 2·a</span> (Displayed category).
</header>


      <p>Let $B$ be a category. A <em>displayed category</em> $E$ over $B$ is defined by the
following data <a class="citation" href="#ahrens-lumsdaine:2019">(Ahrens &amp; Lumsdaine, 2019)</a>:</p>
      <ol>
        <li>for each object $x\in B$, a collection of <em>displayed objects</em> $E\Sub{x}$,</li>
        <li>for each morphism $f : x \to y\in B$ and displayed objects $\bar{x}\in E\Sub{x}$ and
$\bar{y}\in E\Sub{y}$, a family of collections of <em>displayed morphisms</em> $E\Sub{f}(\bar{x},\bar{y})$,
which we may also write $\bar{f}:\bar{x}\to\Sub{f} \bar{y}$,</li>
        <li>for each $x\in B$ and $\bar{x}\in E\Sub{x}$, a morphism $\Idn{\bar{x}} \in
E\Sub{\Idn{x}}(\bar{x},\bar{x})$,</li>
        <li>for each $f : x \to y$ and $g:y \to z$ in $B$ and objects $\bar{x}\in E\Sub{x}, \bar{y}\in
E\Sub{y}, \bar{z}\in E\Sub{z}$, a function
 \[
   E\Sub{f}(\bar{x},\bar{y}) \times E\Sub{g}(\bar{y},\bar{z}) \to E\Sub{f;g}(\bar{x},\bar{z})
 \]
that we will denote like ordinary (diagrammatic) function composition,</li>
        <li>such that the following equations hold:
  \[
   \Idn{\bar{x}};\bar{h} = \bar{h}\qquad
   \bar{h};\Idn{\bar{y}} = \bar{h}\qquad
   \bar{f};(\bar{g};\bar{h}) = (\bar{f};\bar{g});\bar{h}
  \]
Note that these are well-defined because of the corresponding
laws for the base category $B$.</li>
      </ol>

      <p><strong>Notation</strong>. When we have too many subscripts, we will write $E[x]$ instead of $E\Sub{x}$.</p>

    </section>

    <section id="0001">


<header class="inline">
  <a class="slug" href="/math/nodes/0001.html">[0001]</a>
  <span class='numbering'>Definition 2·b</span> (Cartesian morphisms).
</header>


      <p>Let $E$ be displayed over $B$, and let $f:x\to y \in B$; a morphism
$\bar{f}:\bar{x}\to\Sub{f} \bar{y}$ in $E$ is called <em>cartesian</em> over $f$ when for
any $m:u\to x$ and $\bar{h}:\bar{u}\to\Sub{m;f} \bar{y}$ there exists a unique
$\bar{m} : \bar{u}\to\Sub{m} \bar{x}$ with $\bar{m};\bar{f} = \bar{h}$. We visualize
this unique factorization of $\bar{h}$ through $\bar{f}$ over $m$ as follows:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.466ex; width: 26.892ex;' src="/math/antex/f3568e9a1d1d1589924461df47321aa2.svg" /></span></p>

      <p>Above we have used the “pullback corner” to indicate $\bar{x}\to\bar{y}$ as a
cartesian map. We return to this in our discussion of the self-indexing <a href="/math/nodes/0003.html" role="tooltip" aria-label="Section 2.1. The fundamental self-indexing" class="slug">[0003]</a>
of a category.</p>

    </section>

    <section id="0002">


<header class="inline">
  <a class="slug" href="/math/nodes/0002.html">[0002]</a>
  <span class='numbering'>Definition 2·c</span> (Cartesian fibration).
</header>


      <p>A displayed category $E$ over $B$ is said to be a <em>cartesian fibration</em>, when
for each morphism $f : x \to y$ and displayed object $\bar{y}\in E\Sub{y}$, there
exists a displayed object $\bar{x}\in E\Sub{x}$ and a <em>cartesian</em> morphism
$\bar{f} : \bar{x}\to\Sub{f} \bar{y}$ in the sense of <a href="/math/nodes/0001.html" role="tooltip" aria-label="Definition 2·b. Cartesian morphisms" class="cref"><span class="numbering">Definition 2·b</span> <span class="slug">[0001]</span></a>. Note that the pair $(\bar{x},\bar{f})$ is unique up to
unique isomorphism, so being a cartesian fibration is a <em>property</em> of a displayed category.</p>

      <p>There are other variations of fibration. For instance, $E$ is said to be an
<em>isofibration</em> when the condition above holds just for isomorphisms $f : x
\cong y$ in the base.</p>

    </section>

    <section id="0003">


<header>
  <h3>
    
      <span class="numbering">2.1.</span>
      The fundamental self-indexing
      <a class="slug" href="/math/nodes/0003.html">[0003]</a>
    
  </h3></header>




      <section id="001X">


<header class="inline">
  <a class="slug" href="/math/nodes/001X.html">[001X]</a>
  <span class='numbering'>Construction 2.1·a</span> (The fundamental self-indexing).
</header>


        <p>Let $B$ be an ordinary category; there is an important displayed category
$\SelfIx{B}$ over $B$ given fiberwise by the <em>slices</em> of $B$.</p>
        <ol>
          <li>For $x\in B$, we define $\SelfIx{B}\Sub{x}$ to be the collection $\Sl{B}{x}$
of pairs $(\bar{x}\in B,p\Sub{x}:\bar{x}\to x)$.</li>
          <li>For $f : x\to y\in B$, we define $\SelfIx{B}\Sub{f}$ to be the collection of
commuting squares in the following configuration:
<span class="antex display"><img style='margin: 0.002ex 0.082ex -3.292ex -0.104ex; height: 19.39ex; width: 21.774ex;' src="/math/antex/4f98fe018f7333da19fa01d0db531ea9.svg" /></span></li>
        </ol>

      </section>

      <section id="001Y">


<header class="inline">
  <a class="slug" href="/math/nodes/001Y.html">[001Y]</a>
  <span class='numbering'>Exercise 2.1·b</span>.
</header>


        <p>Prove that $\SelfIx{B}$ from <a href="/math/nodes/001X.html" role="tooltip" aria-label="Construction 2.1·a. The fundamental self-indexing" class="slug">[001X]</a> is a cartesian fibration if and only if $B$ has pullbacks.</p>

      </section>

    </section>

    <section id="0014">


<header>
  <h3>
    
      <span class="numbering">2.2.</span>
      The generalized pullback lemma
      <a class="slug" href="/math/nodes/0014.html">[0014]</a>
    
  </h3></header>




      <p>In light of <a href="/math/nodes/0003.html" role="tooltip" aria-label="Section 2.1. The fundamental self-indexing" class="slug">[0003]</a>, the following result for displayed categories generalizes
the ordinary “pullback lemma.”</p>

      <section id="001H">


<header class="inline">
  <a class="slug" href="/math/nodes/001H.html">[001H]</a>
  <span class='numbering'>Lemma 2.2·a</span> (Generalized pullback lemma).
</header>


        <p>Let $\bar{f} : \bar{x}\to\Sub{f}\bar{y}$, and suppose that
$\bar{g} : \bar{y}\to\Sub{g}\bar{z}$ is cartesian over $g$. Then
$\bar{f};\bar{g}$ is cartesian over $f;g$ if and only if $\bar{f}$ is cartesian
over $f$.
<span class="antex display"><img style='margin: 0.002ex 0.078ex -13.785ex 0.0ex; height: 18.069ex; width: 30.625ex;' src="/math/antex/828f8adb27aeb6593eae5ebe194bc2d5.svg" /></span></p>

        <p><strong>Proof.</strong> Suppose first that $\bar{f}$ is cartesian. To see that $\bar{f};\bar{g}$
is cartesian, we must construct a unique factorization as follows:
<span class="antex display"><img style='margin: 0.002ex 0.076ex -13.784ex 0.0ex; height: 27.265ex; width: 40.862ex;' src="/math/antex/2063b607705540d289617c038c6bfe75.svg" /></span>
Because $\bar{g}$ is cartesian, we can factor $\bar{h} = i;\bar{g}$ for a unique
$i:\bar{u}\to\Sub{m;f}\bar{y}$. Then, because $\bar{f}$ is cartesian, we can further
factor $i = j;\bar{f}$ for a unique $j:\bar{u}\to\Sub{m}\bar{x}$. We conclude that
there is a unique $j:\bar{u}\to\Sub{m}\bar{x}$ for which
$\bar{h} = j;\bar{f};\bar{g}$, as required.</p>

        <p>Conversely, suppose that $\bar{f};\bar{g}$ is cartesian. To see that $\bar{f}$ is
cartesian, we must construct a unique factorization as follows:
<span class="antex display"><img style='margin: 0.002ex 0.076ex -13.784ex 0.0ex; height: 25.466ex; width: 41.204ex;' src="/math/antex/7768af8efeee60eb1115e0883d525059.svg" /></span>
Because $\bar{f};\bar{g}$ is cartesian, we can factor
$\bar{h};\bar{g} = i;\bar{f};\bar{g}$ for a unique $i:\bar{u}\to\Sub{m}\bar{x}$.
On the other hand, because $\bar{g}$ is cartesian, there is a unique
$j:\bar{u}\to\Sub{m;f}\bar{y}$ for which $\bar{h};\bar{g} = j;\bar{g}$; as both
$\bar{h}$ and $i;\bar{f}$ satisfy this condition, we conclude $\bar{h}=i;\bar{f}$.
Therefore, there is a unique $i:\bar{u}\to\Sub{m}\bar{x}$ for which
$\bar{h} = i;\bar{f}$, as required.
<span style="float:right">∎</span></p>

      </section>

    </section>

    <section id="0029">


<header>
  <h3>
    
      <span class="numbering">2.3.</span>
      An alternative definition of fibration
      <a class="slug" href="/math/nodes/0029.html">[0029]</a>
    
  </h3></header>




      <p><strong>Warning.</strong> Some authors including Grothendieck <a class="citation" href="#sga:1">(<i>Revêtements Étales Et Groupe Fondamental (SGA 1)</i>, 1971)</a> give an
equivalent definition of cartesian fibration that factors through a
<em>nonequivalent</em> definition of cartesian morphisms. Such authors refer to our
notion of cartesian morphism as <em>hypercartesian</em> <a class="citation" href="#streicher:2018">(Streicher, 2018)</a>.</p>

      <section id="002A">


<header class="inline">
  <a class="slug" href="/math/nodes/002A.html">[002A]</a>
  <span class='numbering'>Definition 2.3·a</span> (Hypocartesian morphisms).
</header>


        <p>Let $E$ be displayed over $B$, and let $f:x\to y \in B$; a morphism
$\bar{f}:\bar{x}\to\Sub{f} \bar{y}$ in $E$ is called <em>hypocartesian</em> over $f$ when
for any $\bar{u}\in E\Sub{x}$ and $\bar{h}:\bar{u}\to\Sub{f} \bar{y}$ there exists a
unique $i : \bar{u}\to\Sub{\Idn{x}} \bar{x}$ with $i;\bar{f} = \bar{h}$ as follows:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.466ex; width: 26.892ex;' src="/math/antex/f780ad6d8c953415d8e1950034836b69.svg" /></span></p>

      </section>

      <p>Cartesian morphisms are clearly hypocartesian (setting $u=x$ and $m=\Idn{x}$),
but the converse does not hold. The problem is that in an arbitrary displayed
category, hypocartesian morphisms may not be closed under composition.</p>

      <section id="002C">


<header class="inline">
  <a class="slug" href="/math/nodes/002C.html">[002C]</a>
  <span class='numbering'>Lemma 2.3·b</span> (Hypocartesian = cartesian in a cartesian fibration).
</header>


        <p>Let $E$ be a cartesian fibration in the sense of <a href="/math/nodes/0002.html" role="tooltip" aria-label="Definition 2·c. Cartesian fibration" class="cref"><span class="numbering">Definition 2·c</span> <span class="slug">[0002]</span></a>, and let
$\bar{f} : \bar{x}\to\Sub{f}\bar{y}$ be displayed over $f:x\to y$. The
displayed morphism $\bar{f}$ is cartesian if and only if it is hypocartesian.</p>

        <p><strong>Proof.</strong>
Any cartesian map is clearly hypocartesian. To see that a hypocartesian map
$\bar{f}:\bar{x}\to\Sub{f}\bar{y}$ in a cartesian fibration is cartesian, we
consider the cartesian lift of $f:x\to y$ under $\bar{y}$:
<span class="antex display"><img style='margin: 0.002ex 0.078ex -3.292ex 0.0ex; height: 18.069ex; width: 16.392ex;' src="/math/antex/cab266c7e79915ca9c880f24e34c35b6.svg" /></span></p>

        <p>As the cartesian lift $\bar{x}\tick\to \bar{y}$ is also hypocartesian, it
follows that there is a unique vertical isomorphism identifying $\bar{x}$ with
$\bar{x}\tick$ factoring $\bar{f} : \bar{x}\to\Sub{f}\bar{y}$ through
$\bar{f}\tick : \bar{x}\tick\to\Sub{f}\bar{y}$. Being cartesian over $f$ is clearly
stable under isomorphism, hence we conclude that $\bar{f}$ is cartesian from
the fact that $\bar{f}\tick$ is cartesian.
<span style="float:right">∎</span></p>

      </section>

      <p>Grothendieck <a class="citation" href="#sga:1">(<i>Revêtements Étales Et Groupe Fondamental (SGA 1)</i>, 1971)</a> defines a fibration in terms of (what we refer
to as) hypocartesian morphisms rather than (what we refer to as) cartesian
morphisms, and therefore imposes the additional constraint that the
hypocartesian morphisms be closed under composition. In <a href="/math/nodes/002B.html" role="tooltip" aria-label="Lemma 2.3·c. Equivalence with Grothendieck&#39;s fibrations" class="cref"><span class="numbering">Lemma 2.3·c</span> <span class="slug">[002B]</span></a> below, we
verify that these two definitions of cartesian fibration coincide.</p>

      <section id="002B">


<header class="inline">
  <a class="slug" href="/math/nodes/002B.html">[002B]</a>
  <span class='numbering'>Lemma 2.3·c</span> (Equivalence with Grothendieck's fibrations).
</header>


        <p>Let $E$ be displayed over $B$. Then $E$ is a cartesian fibration in the sense of
<a href="/math/nodes/0002.html" role="tooltip" aria-label="Definition 2·c. Cartesian fibration" class="cref"><span class="numbering">Definition 2·c</span> <span class="slug">[0002]</span></a> if and only if the following two conditions hold:</p>

        <ol>
          <li><em>Hypocartesian lifts.</em> For each $f:x\to y\in B$ and $\bar{y}\in E\Sub{y}$ there
exists a displayed object $\bar{x}\in E\Sub{x}$ and hypocartesian morphism
$\bar{f}:\bar{x}\to\Sub{f}\bar{y}$.</li>
          <li><em>Closure under composition.</em> If $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$ and
$\bar{g}:\bar{y}\to\Sub{g}\bar{z}$ are hypocartesian, then $\bar{f};\bar{g}$
is hypocartesian.</li>
        </ol>

        <p><strong>Proof.</strong> Suppose first that $E$ is a cartesian fibration in our sense. Then
$E$ has hypocartesian lifts because it has cartesian lifts. For closure under
composition, fix hypocartesian $\bar{f},\bar{g}$; by <a href="/math/nodes/002C.html" role="tooltip" aria-label="Lemma 2.3·b. Hypocartesian = cartesian in a cartesian fibration" class="cref"><span class="numbering">Lemma 2.3·b</span> <span class="slug">[002C]</span></a> we know that
$\bar{f},\bar{g}$ are also cartesian and hence by <a href="/math/nodes/001H.html" role="tooltip" aria-label="Lemma 2.2·a. Generalized pullback lemma" class="cref"><span class="numbering">Lemma 2.2·a</span> <span class="slug">[001H]</span></a> so is the composite $\bar{f};\bar{g}$; therefore it follows
that $\bar{f};\bar{g}$ is also hypocartesian.</p>

        <p>Conversely, suppose that $E$ is a cartesian fibration in the sense of
Grothendieck, and let $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$ be the hypocartesian
lift of $f:x\to y$ at $\bar{y}\in E\Sub{y}$; we shall see that $\bar{f}$ is also
a <em>cartesian</em> lift of $f$ at $\bar{y}$ by constructing a unique factorization as
follows:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.466ex; width: 26.892ex;' src="/math/antex/a50f95f272d7b5b103f7f9194a448d7e.svg" /></span>
Let $\bar{m}:\bar{u}\tick\to\Sub{m}\bar{x}$ be the hypocartesian lift of
$m$ at $\bar{x}$, where $\bar{u}\tick\in E\Sub{u}$. By hypothesis, the
composite $\bar{m};\bar{f} : \bar{u}\tick\to\Sub{m;f}\bar{y}$ is
hypocartesian, so $\bar{h}$ factors uniquely through $\bar{m};\bar{f}$ over
$\Idn{u}$:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.466ex; width: 26.892ex;' src="/math/antex/55698a02bcacf9e7c6a46f9029d20372.svg" /></span>
The composite $i;\bar{m} : \bar{u}\to\Sub{m}\bar{x}$ is the required (cartesian)
factorization of $\bar{h}$ through $\bar{f}$ over $m$. To see that $i;\bar{m}$
is the unique such map, we observe that all morphisms $\bar{u}\to\Sub{m}\bar{x}$
factor uniquely through $\bar{m}$ over $\Idn{u}$ as a consequence of $\bar{m}$
being hypocartesian.
<span style="float:right">∎</span></p>

      </section>

      <section id="002D">


<header class="inline">
  <a class="slug" href="/math/nodes/002D.html">[002D]</a>
  <span class='numbering'>Remark 2.3·d</span> (Two ways to generalize pullbacks).
</header>


        <p>Hypocartesian <a href="/math/nodes/002A.html" role="tooltip" aria-label="Definition 2.3·a. Hypocartesian morphisms" class="slug">[002A]</a> and cartesian <a href="/math/nodes/0001.html" role="tooltip" aria-label="Definition 2·b. Cartesian morphisms" class="slug">[0001]</a> morphisms can be thought
of as two distinct ways to generalize the concept of a pullback, depending on
what one considers the essential properties of pullbacks. Hypocartesian
morphisms more directly generalize the “little picture” universal property of
pullbacks as limiting cones, whereas cartesian morphisms generalize the “big
picture” dynamics of the pullback pasting lemma. As we have seen in <a href="/math/nodes/002C.html" role="tooltip" aria-label="Lemma 2.3·b. Hypocartesian = cartesian in a cartesian fibration" class="cref"><span class="numbering">Lemma 2.3·b</span> <span class="slug">[002C]</span></a> these two notions coincide in any cartesian fibration; the instance of
this result for the fundamental self-indexing (<a href="/math/nodes/001X.html" role="tooltip" aria-label="Construction 2.1·a. The fundamental self-indexing" class="cref"><span class="numbering">Construction 2.1·a</span> <span class="slug">[001X]</span></a>) verifies that
pullbacks can be equivalently presented in terms of cartesian morphisms, as we
have pointed out in <a href="/math/nodes/001Y.html" role="tooltip" aria-label="Exercise 2.1·b." class="cref"><span class="numbering">Exercise 2.1·b</span> <span class="slug">[001Y]</span></a>.</p>

      </section>

    </section>

    <section id="0004">


<header>
  <h3>
    
      <span class="numbering">2.4.</span>
      Displayed and fibered functors
      <a class="slug" href="/math/nodes/0004.html">[0004]</a>
    
  </h3></header>




      <p>Let $E$ be displayed over $B$ and let $F$ be displayed over $C$. If $U:B \to C$
is an ordinary functor, than a <em>displayed functor</em> from $E$ to $F$ over $U$ is
given by the following data:</p>

      <ol>
        <li>for each displayed object $\bar{x}\in E\Sub{x}$, a displayed object $\bar{U}\bar{x}\in F\Sub{Ux}$,</li>
        <li>for each displayed morphism $\bar{f} : \bar{x}\to\Sub{f}\bar{y}$, a displayed morphism $\bar{U}\bar{f} : \bar{U}\bar{x}\to\Sub{Uf}\bar{U}\bar{y}$,</li>
        <li>such that the assignment $\bar{U}f$ preserves displayed identities and displayed composition.</li>
      </ol>

      <p>From this notion, we can see the variation of displayed categories over their
base categories itself has a “displayed categorical” structure; up to size
issues, we could speak of the displayed <em>bicategory</em> of displayed categories.</p>

      <p><strong>Note.</strong> The correct notion of morphism between cartesian fibrations is given
by displayed functors that preserve cartesian maps. We will call these <em>fibered
functors</em>.</p>

    </section>

    <section id="0005">


<header>
  <h3>
    
      <span class="numbering">2.5.</span>
      Fiber categories and vertical maps
      <a class="slug" href="/math/nodes/0005.html">[0005]</a>
    
  </h3></header>




      <p>Let $E$ be a category displayed over $B$. A <em>vertical map</em> in $E$ is defined to be one that
lies over the identity map in $B$.
For every $b\in B$, there the collection $E\Sub{b}$ of displayed objects has the
structure of a category; in particular, we set $E\Sub{b}(u,v)$ to be the collection
of vertical maps $u\to\Sub{\Idn{b}}v$.</p>

    </section>

    <section id="000Q">


<header>
  <h3>
    
      <span class="numbering">2.6.</span>
      Opposite categories
      <a class="slug" href="/math/nodes/000Q.html">[000Q]</a>
    
  </h3></header>




      <p>We adapt Bénabou’s construction as reported by Streicher <a class="citation" href="#streicher:2018">(<i>Fibred Categories à La Jean Bénabou</i>, 2018)</a>.</p>

      <section id="001Z">


<header class="inline">
  <a class="slug" href="/math/nodes/001Z.html">[001Z]</a>
  <span class='numbering'>Construction 2.6·a</span>.
</header>


        <p>Let $E$ be fibered over $B$; we may define the <em>opposite</em> fibered category
$\OpCat{E}$ over $B$ like so:</p>

        <ol>
          <li>
            <p>An object of $\OpCat{E}\Sub{x}$ is given by an object of $E\Sub{x}$.</p>
          </li>
          <li>
            <p>Given $f : x \to y\in B$, a morphism $\bar{x}\to_f \bar{y}$ in $\OpCat{E}$
is given in terms of $E$ by a cartesian map $\bar{y}\Sub{f} : \bar{y}\Sub{x} \to\Sub{f} \bar{y}$ together
with a <em>vertical</em> map $h : \bar{y}\Sub{x}\to\Sub{\Idn{x}} \bar{y}$ as depicted below:
<span class="antex display"><img style='margin: 0.002ex 0.079ex -11.846ex 0.0ex; height: 15.729ex; width: 31.109ex;' src="/math/antex/f364346f8e5e7b7cf49f69493dad6d4c.svg" /></span>
such that $\brc{\bar{x} \leftarrow \bar{y}\Sub{x}\Sup{1}\to \bar{y}}$ is
identified with $\brc{\bar{x}\leftarrow\bar{y}\Sub{x}\Sup{2}\to \bar{y}}$
when they agree up to the unique vertical isomorphism $\bar{y}\Sub{x}\Sup{1}\cong\bar{y}\Sub{x}\Sup{2}$
induced by the universal property of cartesian maps in the sense that the following diagram commutes:
<span class="antex display"><img style='margin: -0.05ex 0.151ex -11.384ex 0.0ex; height: 22.94ex; width: 21.527ex;' src="/math/antex/43b600c7ccbae9fced9cc5d7d6348d16.svg" /></span></p>
          </li>
        </ol>

      </section>

      <section id="000T">


<header>
  <h4>
    
      <span class="numbering">2.6.1.</span>
      Characterization of cartesian maps
      <a class="slug" href="/math/nodes/000T.html">[000T]</a>
    
  </h4></header>




        <p>There is a simple characterization of cartesian maps in $\OpCat{E}$.</p>

        <section id="0020">


<header class="inline">
  <a class="slug" href="/math/nodes/0020.html">[0020]</a>
  <span class='numbering'>Lemma 2.6.1·a</span>.
</header>


          <p>A morphism $\bar{f}:\bar{x}\to\Sub{f} \bar{y}\in\OpCat{E}$ is cartesian
over $f:x\to y$ if and only if the vertical leg of $f$ is an isomorphism.</p>

          <p><strong>Proof.</strong> Suppose that $\bar{f} : \bar{x}\to\Sub{f}\bar{y}$ is represented by a span $\brc{\bar{x}\leftarrow\bar{y}\Sub{x}\to\bar{y}}$ in $E$ in which the vertical leg $\bar{x}\leftarrow\bar{y}\Sub{x}$ is an isomorphism. We must show that $\bar{x}\to_f\bar{y}$ is cartesian in $\OpCat{E}$. We fix a morphism $\bar{h}:\bar{w}\to\Sub{m;f}\bar{y}\in \OpCat{E}$ where $m:w\to x$, depicted below in terms of $\OpCat{E}$:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 22.005ex; width: 30.279ex;' src="/math/antex/8783c073d72f4d2ba6b32ed4b99f479c.svg" /></span></p>

          <p>We must define the unique intervening map $\bar{w}\to_m \bar{x}$ in $\OpCat{E}$.
We first translate the above into the language of $E$ by unfolding definitions:
<span class="antex display"><img style='margin: 0.002ex 0.078ex -13.785ex 0.0ex; height: 18.069ex; width: 45.439ex;' src="/math/antex/c2b9f080032b15487862c87f6744a23c.svg" /></span></p>

          <p>The desired intervening map $\bar{w}\to\Sub{m} \bar{x}\in \OpCat{E}$ shakes out in the language of $E$ to be a span $\brc{\bar{w}\leftarrow \bar{x}\Sub{w}\to\Sub{m} \bar{x}}$ in which the left-hand leg is vertical and the right-hand leg is cartesian over $m:w\to x$. But the left-hand span $\brc{\bar{w}\leftarrow\bar{y}\Sub{w}\to \bar{y}\Sub{x}\cong \bar{x}}$ in the diagram above is exactly what we need.</p>

          <p>We leave the converse to the reader.
<span style="float:right">∎</span></p>

        </section>

      </section>

      <section id="000U">


<header>
  <h4>
    
      <span class="numbering">2.6.2.</span>
      Cartesian lifts in the opposite category
      <a class="slug" href="/math/nodes/000U.html">[000U]</a>
    
  </h4></header>




        <p>The foregoing characterization of cartesian maps in $\OpCat{E}$
immediately implies that $\OpCat{E}$ is fibered over $B$.</p>

        <section id="0021">


<header class="inline">
  <a class="slug" href="/math/nodes/0021.html">[0021]</a>
  <span class='numbering'>Corollary 2.6.2·a</span>.
</header>


          <p>The displayed category $\OpCat{E}$ is a cartesian fibration.</p>

          <p><strong>Proof.</strong>
Fixing $\bar{y}\in \OpCat{E}\Sub{y}$ and $f:x\to y\in B$, we must
exhibit a cartesian lift $\bar{f} : \bar{x}\to\Sub{f}\bar{y}\in \OpCat{E}$.
By the characterization <a href="/math/nodes/000T.html" role="tooltip" aria-label="Section 2.6.1. Characterization of cartesian maps" class="slug">[000T]</a> it suffices to find <em>any</em> map over $f$ whose vertical component is an isomorphism. Writing $\bar{y}\Sub{x}\to\Sub{f}\bar{y}$ for the cartesian lift of $f$ in $E$, consider the map in $\OpCat{E}$ presented by the following span in $E$:
<span class="antex display"><img style='margin: 0.002ex 0.08ex -13.786ex 0.0ex; height: 15.542ex; width: 31.765ex;' src="/math/antex/c7c976c7b145a470586dcc048f7cd9c7.svg" /></span>
<span style="float:right">∎</span></p>

        </section>

      </section>

      <section id="000S">


<header>
  <h4>
    
      <span class="numbering">2.6.3.</span>
      Exegesis of opposite categories
      <a class="slug" href="/math/nodes/000S.html">[000S]</a>
    
  </h4></header>




        <p>The construction of fibered opposite categories (<a href="/math/nodes/001Z.html" role="tooltip" aria-label="Construction 2.6·a." class="cref"><span class="numbering">Construction 2.6·a</span> <span class="slug">[001Z]</span></a>) does appear quite
involved, but it can be seen to be inevitable from the perspective of the fiber
categories $\OpCat{E}\Sub{x}$ (<a href="/math/nodes/0005.html" role="tooltip" aria-label="Section 2.5. Fiber categories and vertical maps" class="cref"><span class="numbering">Section 2.5</span> <span class="slug">[0005]</span></a>). Indeed, let $u,v\in
\OpCat{E}\Sub{x}$ and fix a <em>vertical</em> map $h : u \to v\in \OpCat{E}\Sub{x}$;
by unfolding definitions, we see that the vertical map $h : u \to v$ is
uniquely determined by a morphism $v\to u\in E\Sub{x}$.</p>

        <p><strong>Proof.</strong> A displayed morphism $u\to\Sub{\Idn{x}} v\in \OpCat{E}$ is
determined by a span $\brc{u\leftarrow v\Sub{x} \to v}\in E$ where the right-hand
map is cartesian over $\Idn{x} : x\to x$ and the left-hand map is vertical, taken up to the identification of
different cartesian lifts $v\Sub{x}\to x$. A displayed morphism that is cartesian over the identity is an isomorphism; hence, displayed morphisms $u\to\Sub{\Idn{x}} v\in\OpCat{E}$ are equivalently determined by vertical maps $v\to u \in E$.
<span style="float:right">∎</span></p>

      </section>

    </section>

    <section id="0006">


<header>
  <h3>
    
      <span class="numbering">2.7.</span>
      Example: the family fibration
      <a class="slug" href="/math/nodes/0006.html">[0006]</a>
    
  </h3></header>




      <p>Any ordinary category $C$ can be viewed as a displayed category $\FAM{C}$ over $\SET$:</p>

      <ol>
        <li>For $S\in \SET$, an object in $\FAM{C}[S]$ is specified by a functor $C^S$
where $S$ is regarded as a discrete category.</li>
        <li>Given $f : S \to T$ in $\SET$ and $x\in C^S$ and $y\in C^T$, a morphism
$x \to\Sub{f} y$ is given by a morphism $x\to \InvImg{f}y$ in $C^S$ where
$\InvImg{f} : C^T \to C^S$ is precomposition with $f$.</li>
      </ol>

      <p>The displayed category $\FAM{C}$ is in fact a cartesian fibration. This family
fibration is the starting point for developing a <em>relative</em> form of category
theory, the purpose of this lecture. By analogy with viewing an ordinary
category $C$ as a fibration $\FAM{C}$ over $\SET$, we may reasonably define a
“relative category” over another base $B$ to be a fibration over $B$.</p>

      <p>This story for relative category theory reflects the way that ordinary
categories are “based on” $\SET$ in some sense in spite of the fact that they
do not necessarily have sets of objects or even sets of morphisms between
objects. Being small and locally small respectively will later be seen to be
properties of a family fibration over an arbitrary base $B$, strictly
generalizing the classical notions.</p>

    </section>

    <section id="0007">


<header>
  <h3>
    
      <span class="numbering">2.8.</span>
      Change of base
      <a class="slug" href="/math/nodes/0007.html">[0007]</a>
    
  </h3></header>




      <p>Suppose that $E$ is displayed over $B$ and $F : X\to B$ is a
functor; then we may define a displayed category $\InvImg{F}E$ as over $X$ follows:</p>

      <ol>
        <li>
          <p>An object of $(\InvImg{F}E)\Sub{x}$ is an object of $E\Sub{Fx}$.</p>
        </li>
        <li>
          <p>Given $\bar{x}\in (\InvImg{F}E)\Sub{x}$, $\bar{y}\in (\InvImg{F}E)\Sub{y}$ and $f : x
\to y$, a morphism $\bar{x}\to\Sub{f}\bar{y}$ in $\InvImg{F}E$ is given by a morphism $\bar{x}\to\Sub{Ff}\bar{y}$ in $E$.</p>
        </li>
      </ol>

      <p>We visualize the change of base scenario as follows:
<span class="antex display"><img style='margin: -0.016ex 0.077ex -2.788ex 0.0ex; height: 15.166ex; width: 18.537ex;' src="/math/antex/f1ea9f6cb2f6ed264a583fa012ca80f4.svg" /></span></p>

    </section>

    <section id="002J">


<header>
  <h3>
    
      <span class="numbering">2.9.</span>
      Full subfibrations and figure shapes
      <a class="slug" href="/math/nodes/002J.html">[002J]</a>
    
  </h3></header>




      <p>In a category $E$, a morphism $f : x\to y$ can be thought of as a “figure”
of shape $x$ drawn in $y$. For instance, if $x$ is the point (i.e.
$x=\ObjTerm{E}$) then a morphism $x\to y$ is a “point” of the “space” $y$.
We refer to $x$ as the figure-shape in any such scenario.
The perspective of morphisms as figures is developed in more detail by Lawvere and Schanuel <a class="citation" href="#lawvere-schanuel:2009">(<i>Conceptual Mathematics: A First Introduction to Categories</i>, 2009)</a>.</p>

      <p>It often happens that a useful class of figure shapes can be arranged
into a <em>set</em>-indexed family $\prn{u\Sub{i}}\Sub{i\in I}$; viewed from the
perspective of the family fibration $\FAM{E}$ (<a href="/math/nodes/0006.html" role="tooltip" aria-label="Section 2.7. Example: the family fibration" class="cref"><span class="numbering">Section 2.7</span> <span class="slug">[0006]</span></a>), this family is just a
displayed object $\bar{u}$ over $I$ and then a figure shape “in”
this family is given by any cartesian morphism $\bar{z}\to\bar{u}$. We will
generalize this situation to the case of an arbitrary fibration, by
constructing the full subfibration spanned by displayed objects equipped
with a cartesian morphism into $\bar{u}$ in <a href="/math/nodes/0010.html" role="tooltip" aria-label="Construction 2.9·a. The full subfibration associated to a displayed object" class="cref"><span class="numbering">Construction 2.9·a</span> <span class="slug">[0010]</span></a> below.</p>

      <section id="0010">


<header class="inline">
  <a class="slug" href="/math/nodes/0010.html">[0010]</a>
  <span class='numbering'>Construction 2.9·a</span> (The full subfibration associated to a displayed object).
</header>


        <p>Let $E$ be a cartesian fibration
over $B$; then any displayed object $\bar{x} \in E\Sub{x}$ induces a <em>full subfibration</em> $\FullSubfib{\bar{u}}\subseteq E$ spanned by displayed objects that are classified by $\bar{u}$, i.e. arise from $\bar{u}$ by cartesian lift.</p>

        <ol>
          <li>
            <p>An object of $\FullSubfib{\bar{u}}\Sub{x}$ is specified by an object $\bar{x}\in E\Sub{x}$ together with a cartesian morphism $\bar{x}\to \bar{u}$.</p>
          </li>
          <li>
            <p>Given $f:x\to y\in B$, a morphism from $\bar{x}\to \bar{u}$ to $\bar{y}\to\bar{u}\in$ over $f$ is given by any displayed morphism $\bar{x}\to\Sub{f}\bar{y}$.</p>
          </li>
        </ol>

      </section>

      <section id="002K">


<header class="inline">
  <a class="slug" href="/math/nodes/002K.html">[002K]</a>
  <span class='numbering'>Definition 2.9·b</span> (Figures and figure shapes in the full subfibration).
</header>


        <p>Let $E$ be a cartesian fibration and let $\FullSubfib{\bar{s}}\subseteq E$ be the full subfibration determined by a displayed object $\bar{s}\in E$ as in <a href="/math/nodes/0010.html" role="tooltip" aria-label="Construction 2.9·a. The full subfibration associated to a displayed object" class="cref"><span class="numbering">Construction 2.9·a</span> <span class="slug">[0010]</span></a>. We now develop the following vocabulary:</p>

        <ol>
          <li>
            <p>We will refer to each object of $\FullSubfib{\bar{s}}$ as a $\bar{s}$-figure
shape.</p>
          </li>
          <li>
            <p>A displayed morphism $\bar{z}\to \bar{x}$ is called a $\bar{s}$-figure
whenever $\bar{z}\in\FullSubfib{\bar{s}}$.</p>
          </li>
        </ol>

      </section>

    </section>

  </section>

  <section id="0009">


<header>
  <h2>
    
      <span class="numbering">3.</span>
      The Grothendieck construction
      <a class="slug" href="/math/nodes/0009.html">[0009]</a>
    
  </h2></header>




    <section id="000A">


<header>
  <h3>
    
      <span class="numbering">3.1.</span>
      The total category and its projection
      <a class="slug" href="/math/nodes/000A.html">[000A]</a>
    
  </h3></header>




      <p>Note that any displayed category $E$ over $B$ can be viewed as an undisplayed
category $\TotCat{E}$ equipped with a projection functor $p\Sub{E}: \TotCat{E}\to
B$; in this case $\TotCat{E}$ is called the <em>total category</em> of $E$.</p>

      <ol>
        <li>An object of $\TotCat{E}$ is given by a pair $(x,\bar{x})$ where $x\in B$ and
$\bar{x}\in E\Sub{x}$.</li>
        <li>A morphism $(x,\bar{x})\to (y,\bar{y})$ in $\TotCat{E}$ is given by a pair $(f,\bar{f})$ where
$f:x\to y$ and $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$.</li>
      </ol>

      <p>The construction of the total category of a displayed category is called the <em>Grothendieck construction.</em></p>

      <section id="001T">


<header class="inline">
  <a class="slug" href="/math/nodes/001T.html">[001T]</a>
  <span class='numbering'>Exercise 3.1·a</span>.
</header>


        <p>Prove that the total category $\TotCat{\SelfIx{B}}$ of the fundamental self-indexing (<a href="/math/nodes/0003.html" role="tooltip" aria-label="Section 2.1. The fundamental self-indexing" class="cref"><span class="numbering">Section 2.1</span> <span class="slug">[0003]</span></a>) is the arrow category $B^{\to}$, and the projection is the codomain functor.</p>

      </section>

    </section>

    <section id="000B">


<header>
  <h3>
    
      <span class="numbering">3.2.</span>
      Displayed categories from functors
      <a class="slug" href="/math/nodes/000B.html">[000B]</a>
    
  </h3></header>




      <p>In many cases, one starts with a functor $P:E\to B$; if it were meaningful to
speak of <em>equality</em> of objects in an arbitrary category then there would be an
obvious construction of a displayed category $P\Sub{\bullet}$ from $P$; we would
simply set $P\Sub{x}$ to be the collection of objects $u\in E$ such that $Pu=x$. As
it stands there is a more subtle version that will coincide up to categorical
equivalence with the naïve one in all cases that the latter is meaningful.</p>

      <ol>
        <li>
          <p>We define an object of $P\Sub{x}$ to be a pair $(u,\phi\Sub{u})$ where $u\in E$ and
$\phi\Sub{u} : Pu\cong x$. It is good to visualize such a pair as a “crooked
leg” like so:
<span class="antex display"><img style='margin: -0.056ex 0.097ex -10.484ex 0.0ex; height: 11.809ex; width: 14.117ex;' src="/math/antex/f93818c2114b08a4c8e26c89a3626f81.svg" /></span></p>
        </li>
        <li>
          <p>A morphism $(u,\phi\Sub{u})\to\Sub{f} (v,\phi\Sub{v})$ over $f : x \to y$ is given by
a morphism $h : u\to v$ that lies over $f$ modulo the isomorphisms
$\phi\Sub{u},\phi\Sub{v}$ in sense depicted below:
<span class="antex display"><img style='margin: -0.021ex 0.067ex -15.345ex 0.0ex; height: 28.65ex; width: 30.246ex;' src="/math/antex/c35ca0243865e49bac8dfa13a14e3e50.svg" /></span></p>
        </li>
      </ol>

      <section id="001U">


<header class="inline">
  <a class="slug" href="/math/nodes/001U.html">[001U]</a>
  <span class='numbering'>Exercise 3.2·a</span>.
</header>


        <p>Suppose that $B$ is an internal category in $\mathbf{Set}$, i.e.
it has a set of objects. Exhibit an equivalence of displayed categories between
$P\Sub{\bullet}$ as described above, and the naïve definition which $E\Sub{x}$ is the
collection of objects $u\in E$ such that $Pu = x$.</p>

      </section>

      <p>We have a functor $\TotCat{P\Sub{\bullet}}\to E$ taking a pair $(x,(u,\phi\Sub{u}))$ to
$u$.</p>

      <section id="001V">


<header class="inline">
  <a class="slug" href="/math/nodes/001V.html">[001V]</a>
  <span class='numbering'>Exercise 3.2·b</span>.
</header>


        <p>Explicitly construct the functorial action of $\TotCat{P\Sub{\bullet}}\to E$.</p>

      </section>

      <section id="001W">


<header class="inline">
  <a class="slug" href="/math/nodes/001W.html">[001W]</a>
  <span class='numbering'>Exercise 3.2·c</span>.
</header>


        <p>Verify that $\TotCat{P\Sub{\bullet}}\to E$ is a categorical equivalence.</p>

      </section>

      <section id="000C">


<header>
  <h4>
    
      <span class="numbering">3.2.1.</span>
      Relationship to Street's fibrations
      <a class="slug" href="/math/nodes/000C.html">[000C]</a>
    
  </h4></header>




        <p>In classical category theory, cartesian fibrations are defined by
Grothendieck <a class="citation" href="#sga:1">(<i>Revêtements Étales Et Groupe Fondamental (SGA 1)</i>, 1971)</a> to be certain functors $E\to B$ such that any morphism $f:x\to Pv$
in $B$ lies strictly underneath a cartesian morphism in $E$. As we have
discussed, this condition cannot be formulated unless equality is meaningful
for the collection of objects of $B$.</p>

        <p>There is an alternative definition of cartesian fibration <a class="citation" href="#street:1980">(Street, 1980)</a> that avoids
equality of objects; here we require for each $f:x\to Pv$ a cartesian morphism
$h:\InvImg{f}v \to v$ together with an isomorphism $\phi : P(\InvImg{f}v)\cong x$
such that $\phi^{-1};Ph = f$.</p>

        <p>By unrolling definitions, it is not difficult to see that the displayed
category $P\Sub{\bullet}$ is a cartesian fibration in our sense if and only if the functor
$P:E\to B$ was a fibration in Street’s sense. Moreover, it can be seen that the
Grothendieck construction yields a <em>Grothendieck</em> fibration
$\TotCat{P\Sub{\bullet}}\to B$; hence we have introduced by accident a convenient
destription of the <em>strictification</em> of Street fibrations into equivalent
Grothendieck fibrations.</p>

      </section>

    </section>

    <section id="000D">


<header>
  <h3>
    
      <span class="numbering">3.3.</span>
      Iteration and pushforward
      <a class="slug" href="/math/nodes/000D.html">[000D]</a>
    
  </h3></header>




      <p>It also makes sense to speak of categories displayed over other displayed
categories; one way to formalize this notion is as follows. Let $E$ be
displayed over $B$; we define a category displayed over $E$ to be simply a
category displayed over the total category $\TotCat{E}$.</p>

      <p>Now let $F$ be displayed over $E$ over $B$. Then we may regard $F$ as a
displayed category $B\Sub{!}F$ over $B$ as follows:</p>

      <ol>
        <li>An object of $(B\Sub{!}F)\Sub{x}$ is a pair $(\bar{x},{\ddot{x}})$ with $\bar{x}\in E\Sub{x}$ and ${\ddot{x}}\in F\Sub{\bar{x}}$.</li>
        <li>A morphism $(\bar{x},{\ddot{x}})\to\Sub{f}(\bar{y},{\ddot{y}})$ is given by a pair $(\bar{f},{\ddot{f}})$ where $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$ in $E$ and ${\ddot{f}}:{\ddot{x}}\to\Sub{\bar{f}} {\ddot{y}}$ in $F$.</li>
      </ol>

      <p>By virtue of <a href="/math/nodes/000B.html" role="tooltip" aria-label="Section 3.2. Displayed categories from functors" class="cref"><span class="numbering">Section 3.2</span> <span class="slug">[000B]</span></a>, we may define the <em>pushforward</em> of a displayed category along a functor. In particular, let $E$
be displayed over $B$ and let $U:B\to C$ be an ordinary functor; then we may
obtain a displayed category $U\Sub{!}E$ over $C$ as follows:</p>

      <ol>
        <li>First we construct the displayed category $U\Sub{\bullet}$ corresponding to the
functor $U:B \to C$.</li>
        <li>We recall that there is a canonical equivalence of categories
$\TotCat{U\Sub{\bullet}}\to B$.</li>
        <li>Because $E$ is displayed over $B$, we may regard it as displayed over the
equivalent total category $\TotCat{U\Sub{\bullet}}$ by
change of base (<a href="/math/nodes/0007.html" role="tooltip" aria-label="Section 2.8. Change of base" class="cref"><span class="numbering">Section 2.8</span> <span class="slug">[0007]</span></a>).</li>
        <li>Hence we may define the pushforward $U\Sub{!}E$ to be the displayed category $(U\Sub{\bullet})\Sub{!}E$ as defined above.</li>
      </ol>

    </section>

  </section>

  <section id="000E">


<header>
  <h2>
    
      <span class="numbering">4.</span>
      Properties of fibrations
      <a class="slug" href="/math/nodes/000E.html">[000E]</a>
    
  </h2></header>




    <section id="000F">


<header>
  <h3>
    
      <span class="numbering">4.1.</span>
      Locally small fibrations
      <a class="slug" href="/math/nodes/000F.html">[000F]</a>
    
  </h3></header>




      <p>There are a number of (equivalent) variations on the definition of a locally
small fibration. We attempt to provide
some intuition for these definitions.</p>

      <section id="000G">


<header>
  <h4>
    
      <span class="numbering">4.1.1.</span>
      Warmup: locally small family fibrations
      <a class="slug" href="/math/nodes/000G.html">[000G]</a>
    
  </h4></header>




        <p>An ordinary category $E$ is called <em>locally small</em> when for any $x,y\in E$ the
collection of morphisms $x\to y$ is a set.  This property of $E$ can be
rephrased in terms of its <em>family fibration</em> (<a href="/math/nodes/0006.html" role="tooltip" aria-label="Section 2.7. Example: the family fibration" class="cref"><span class="numbering">Section 2.7</span> <span class="slug">[0006]</span></a>) $\FAM{E}$ over
$\SET$ as follows.</p>

        <p>Consider an index set $I\in \SET$ and two families $u,v\in C^I$. We may define
an $I$-indexed collection $[u,v]\Sub{i\in I}$ consisting (pointwise) of all the
morphisms $u\Sub{i}\to v\Sub{i}$ in $C$:
<span class="antex display"><img style='margin: -0.021ex 0.149ex -0.602ex 0.0ex; height: 2.364ex; width: 25.177ex;' src="/math/antex/5aa69c75a6e8dcc0a4b02001f40fe9c4.svg" /></span></p>

        <p>If $C$ is locally small, $[u,v]\Sub{i\in I}$ is in fact a family of sets for
any $I\in\SET$ as each $[u,v]\Sub{i}$ is a set. Conversely, if $[u,v]\Sub{i\in I}$
is a family of sets for any $I\in \SET$, then $C$ is locally small as we may
consider in particular the case that $I=\mathbf{1}$.</p>

      </section>

      <section id="000H">


<header>
  <h4>
    
      <span class="numbering">4.1.2.</span>
      A more abstract formulation
      <a class="slug" href="/math/nodes/000H.html">[000H]</a>
    
  </h4></header>




        <p>We will reformulate the above in a way that uses only the language that makes
sense for an arbitrary cartesian fibration, though for now we stick with $\FAM{C}$. Given
$u,v\in \FAM{C}[I]$, we have a “relative hom family” $[u,v]\in\Sl{\SET}{I}$,
defined in <a href="/math/nodes/000G.html" role="tooltip" aria-label="Section 4.1.1. Warmup: locally small family fibrations" class="cref"><span class="numbering">Section 4.1.1</span> <span class="slug">[000G]</span></a>. The fact that each $[u,v]\Sub{i}$ is the set of all
morphisms $u\Sub{i}\to v\Sub{i}$ can be rephrased more abstractly.</p>

        <p>First we consider the restriction of $u\in \FAM{C}[I]$ to $\FAM{C}[[u,v]]$ as follows:
<span class="antex display"><img style='margin: 0.002ex 0.029ex -3.019ex 0.0ex; height: 17.557ex; width: 19.367ex;' src="/math/antex/e334951a8194d49350553d99515cc433.svg" /></span>
Explicitly the family $\InvImg{[u,v]}u$ is indexed in a pair of an element $i\in I$ and a morphism $u\Sub{i}\to v\Sub{i}$.
We can think of $\InvImg{[u,v]}u$ as the object of elements of $u\Sub{i}$ indexed in pairs $(i,u\Sub{i}\to v\Sub{i})$.</p>

        <p>There is a canonical map
$\epsilon\Sub{[u,v]}:\InvImg{[u,v]}u\to\Sub{p\Sub{[u,v]}} v$ that
“evaluates” each indexing morphism $u\Sub{i}\to v\Sub{i}$.</p>

        <p>That each $[u,v]\Sub{i}$ is the set of all morphisms $u\Sub{i}\to v\Sub{i}$ can be
rephrased as a universal property: for any family $h\in\Sl{\SET}{I}$ and
morphism $\epsilon\Sub{h} : \InvImg{h}u\to\Sub{h} v$ in $\FAM{C}$, there is a
unique cartesian map $\InvImg{h}u\to \InvImg{[u,v]}u$ factoring $\epsilon\Sub{h}$ through $\epsilon\Sub{[u,v]}$
in the sense depicted below:
<span class="antex display"><img style='margin: -0.023ex 0.0ex -18.456ex 0.0ex; height: 27.136ex; width: 37.966ex;' src="/math/antex/c09613ab6c9806acee30a95ea2e878c4.svg" /></span></p>

        <p>To convince ourselves of this, we note that the family $H \coloneqq \brc{u\Sub{i}\to v\Sub{i}}\Sub{i\in I}$ itself satisfies the universal property above. Indeed, fix a candidate $h \in \Sl{\SET}{I}$ equipped with a map $\epsilon\Sub{h} : \InvImg{h}u \to_h v$. Unfolding the meaning of this map in set theoretical notation, we see that it amounts to a family of maps $\epsilon\Sub{h}[i] : \prod\Sub{x\in h_i} \brc{u_i\to v_i}$ for each $i\in I$; such a family immediately induces the desired map $h\to H$.
<span style="float:right">∎</span></p>

      </section>

      <section id="000I">


<header>
  <h4>
    
      <span class="numbering">4.1.3.</span>
      The definition of local smallness
      <a class="slug" href="/math/nodes/000I.html">[000I]</a>
    
  </h4></header>




        <p>Based on our explorations above, we are now prepared to write down (and
understand) the proper definition of local smallness for an arbitrary cartesian fibration
$E$ over $B$, which should be thought of as a (potentially large) category
relative to $B$.</p>

        <section id="001C">


<header class="inline">
  <a class="slug" href="/math/nodes/001C.html">[001C]</a>
  <span class='numbering'>Definition 4.1.3·a</span> (Hom candidates).
</header>


          <p>For any $x\in B$ and displayed objects $u,v\in E\Sub{x}$, we define a <em>hom
candidate</em> for $u,v$ to be a span $u\leftarrow \bar{h} \rightarrow v$ in $E$ in which the left-hand leg is cartesian:
<span class="antex display"><img style='margin: 0.002ex 0.028ex -13.144ex 0.0ex; height: 16.815ex; width: 30.861ex;' src="/math/antex/0bb08b92e5f2492d8cd859ccee3ea226.svg" /></span></p>

          <p>In the above, $h$ should be thought of as a candidate for the “hom object” of $u,v$,
and $\epsilon\Sub{h}$ should be viewed as the structure of an “evaluation map” for $h$.
This structure can be rephrased in terms of a displayed category $\CandHom{x}{u}{v}$ over $\Sl{B}{x}$:</p>

          <ol>
            <li>
              <p>Given $h\in \Sl{B}{x}$, an object of $\CandHom{x}{u}{v}\Sub{h}$ is given by a hom candidate
whose apex in the base is $h$ itself. We will write $\bar{h}$ metonymically
for the entire hom candidate over $h$.</p>
            </li>
            <li>
              <p>Given $\alpha:l\to h\in\Sl{B}{x}$ and hom candidates $\bar{l}\in \CandHom{x}{u}{v}\Sub{l}$ and
$\bar{h}\in \CandHom{x}{u}{v}\Sub{h}$, a morphism $\bar{h}\to\Sub{\alpha} \bar{l}$ is given by a
cartesian morphism $\bar\alpha:\bar{l}\to\Sub{\alpha}\bar{h}$ in $E$ such that the
following diagram commutes:
<span class="antex display"><img style='margin: 0.002ex 0.112ex -8.491ex 0.0ex; height: 17.844ex; width: 24.097ex;' src="/math/antex/92078006dff8ce9e98a116b9fc0be7c0.svg" /></span></p>
            </li>
          </ol>

        </section>

        <section id="001B">


<header class="inline">
  <a class="slug" href="/math/nodes/001B.html">[001B]</a>
  <span class='numbering'>Definition 4.1.3·b</span> (Locally small fibration).
</header>


          <p>A cartesian fibration $E$ over $B$ is <em>locally small</em> if and only if for
each $x\in B$ and $u,v\in E\Sub{x}$, the total category $\TotCat{\CandHom{x}{u}{v}}$
has a terminal object.</p>

        </section>

      </section>

    </section>

    <section id="000J">


<header>
  <h3>
    
      <span class="numbering">4.2.</span>
      Globally small fibrations
      <a class="slug" href="/math/nodes/000J.html">[000J]</a>
    
  </h3></header>




      <p>In ordinary category theory, a category $C$ is called <em>small</em> when the objects
of $C$ can be arranged into a set, and so can for every $x,y\in C$ the
collection of morphisms $x\to y$. It is useful to separate these two conditions
when we generalize them to fibrations. The latter is called <em>local smallness</em>
and is discussed and defined in <a href="/math/nodes/000F.html" role="tooltip" aria-label="Section 4.1. Locally small fibrations" class="cref"><span class="numbering">Section 4.1</span> <span class="slug">[000F]</span></a>; the former is called <em>global
smallness</em> by Jacobs <a class="citation" href="#jacobs:1999">(<i>Categorical Logic and Type Theory</i>, 1999)</a> and factors through an important concept: the <em>generic object</em>.</p>

      <section id="001D">


<header class="inline">
  <a class="slug" href="/math/nodes/001D.html">[001D]</a>
  <span class='numbering'>Definition 4.2·a</span>.
</header>


        <p>An ordinary category is called <em>globally small</em> when it has a set of objects.</p>

      </section>

      <section id="000K">


<header>
  <h4>
    
      <span class="numbering">4.2.1.</span>
      Generic objects
      <a class="slug" href="/math/nodes/000K.html">[000K]</a>
    
  </h4></header>




        <p>Up to equivalence of categories, we may detect global smallness of a category $C$ from the perspective of the family fibration $\FAM{C}$ (<a href="/math/nodes/0006.html" role="tooltip" aria-label="Section 2.7. Example: the family fibration" class="cref"><span class="numbering">Section 2.7</span> <span class="slug">[0006]</span></a>). In particular, a category is equivalent to a globally small category when its family fibration has a <em>generic object</em> in the following sense.</p>

        <section id="001E">


<header class="inline">
  <a class="slug" href="/math/nodes/001E.html">[001E]</a>
  <span class='numbering'>Definition 4.2.1·a</span> (Generic object).
</header>


          <p>Let $E$ be a cartesian fibration over $B$; a <em>generic object</em> for $E$ is defined to be an object $\bar{u}\in \TotCat{E}$  such that for any $\bar{z}\in \TotCat{E}$ there exists a cartesian map $\bar{z}\to \bar{u}$.</p>

          <p><strong>Warning.</strong> Our terminology differs from that of Jacobs <a class="citation" href="#jacobs:1999">(<i>Categorical Logic and Type Theory</i>, 1999)</a>; what we refer to as a <em>generic object</em> here is Jacobs’ <em>weak generic object</em>. We prefer the unqualified terminology, as generic objects in the stronger sense are very rare.</p>

        </section>

        <section id="000L">


<header class="inline">
  <a class="slug" href="/math/nodes/000L.html">[000L]</a>
  <span class='numbering'>Theorem 4.2.1·b</span> (Globally small categories).
</header>


          <p>An ordinary category $C$ is equivalent to a globally small category if and only if the fibration $\FAM{C}$ has a generic object.</p>

          <p><strong>Proof.</strong>
To see that this is the case, suppose that $C$ has a set of objects. Then
$C\in\SET$ and we define $\lfloor{C}\rfloor$ to be the displayed object
$\brc{x}\Sub{x\in C}\in \FAM{C}[C]$. Fixing $I\in \SET$ and $z\in C^I$, we
consider the cartesian map displayed over $z : I \to C$:
<span class="antex display"><img style='margin: -0.024ex 0.069ex -2.23ex 0.0ex; height: 14.758ex; width: 33.227ex;' src="/math/antex/f9b6daf1d0c21d371f0388d07c838237.svg" /></span></p>

          <p>Conversely assume that $\FAM{C}$ has a generic object $\bar{u}\in\FAM{C}[U]$
for some $U\in \SET$; then we may equip $U$ with the structure of a globally
small category such that $U$ is equivalent to $C$, using a construction that is similar to our implementation of the opposite fibration (<a href="/math/nodes/000Q.html" role="tooltip" aria-label="Section 2.6. Opposite categories" class="cref"><span class="numbering">Section 2.6</span> <span class="slug">[000Q]</span></a>). In particular we define a
morphism $x\to y\in U$ to be given by the following data:</p>

          <ol>
            <li>a cartesian map $a\to\Sub{x} \bar{u}$ over $x : 1\to U$,</li>
            <li>a cartesian map $b\to\Sub{y} \bar{u}$ over $y : 1\to U$,</li>
            <li>and a vertical map $h:a\to b$ in $\FAM{C}[1]\simeq C$,</li>
          </ol>

          <p>such that $(a\Sub{1},b\Sub{1},h\Sub{1})$ is identified with $(a\Sub{2},b\Sub{2},h\Sub{2})$ when $h_1$ and $h_2$ are equal modulo the (unique) vertical isomorphisms between the cartesian lifts in the sense depicted below:
<span class="antex display"><img style='margin: -0.023ex 0.052ex -16.596ex 0.0ex; height: 19.998ex; width: 33.325ex;' src="/math/antex/ad5fe4e2ec0b3a38cda6cdec2eb215e6.svg" /></span></p>

          <p>Remember that a cartesian map $a\to\Sub{x}\bar{u}$ is standing for a <em>choice</em>
of an object of $C$ encoded by $x\in U$. Because such choices are unique only
up to isomorphism, we must include them explicitly in the data.
<span style="float:right">∎</span></p>

        </section>

      </section>

      <section id="000P">


<header class="inline">
  <a class="slug" href="/math/nodes/000P.html">[000P]</a>
  <span class='numbering'>Definition 4.2·b</span> (Globally small fibration).
</header>


        <p>A cartesian fibration $E$ over $B$ is called <em>globally small</em> when it has a generic object in the sense of <a href="/math/nodes/001E.html" role="tooltip" aria-label="Definition 4.2.1·a. Generic object" class="cref"><span class="numbering">Definition 4.2.1·a</span> <span class="slug">[001E]</span></a>.</p>

      </section>

    </section>

    <section id="002E">


<header>
  <h3>
    
      <span class="numbering">4.3.</span>
      Separators for cartesian fibrations
      <a class="slug" href="/math/nodes/002E.html">[002E]</a>
    
  </h3></header>




      <p>Let $E$ be an ordinary category. In general,
to compare two morphisms $f,g:x\to y$ in $E$, it is not enough to see if they
agree on global points $u:1\to x$, because the behavior of $u,v$ may differ
only on generalized elements. In some cases, however, there is a family of
objects $\prn{s\Sub{i}}\Sub{i\in I}\in E$ are together <em>adequate</em> for comparing
morphisms of $E$ in the sense of <a href="/math/nodes/002G.html" role="tooltip" aria-label="Definition 4.3·a. Separating family for a category" class="cref"><span class="numbering">Definition 4.3·a</span> <span class="slug">[002G]</span></a> below.</p>

      <section id="002G">


<header class="inline">
  <a class="slug" href="/math/nodes/002G.html">[002G]</a>
  <span class='numbering'>Definition 4.3·a</span> (Separating family for a category).
</header>


        <p>Given an ordinary category $E$, a set-indexed family
$\prn{s\Sub{i}}\Sub{i\in I}$ of $E$-objects is called a <em>small separating
family</em> for $E$ when, assuming that for all $i\in I$ and all $u:s_i\to x$ we have
$u;f=u;g$, we then have $f=g$.</p>

      </section>

      <p>The intuition of <a href="/math/nodes/002G.html" role="tooltip" aria-label="Definition 4.3·a. Separating family for a category" class="cref"><span class="numbering">Definition 4.3·a</span> <span class="slug">[002G]</span></a> is that to compare two morphisms $f,g:x\to y\in E$,
it suffices to check that they behave the same on all $s\Sub{i}$-shaped figures
when $\prn{s\Sub{i}}\Sub{i\in I}$ is a separating family for $E$.</p>

      <section id="002F">


<header class="inline">
  <a class="slug" href="/math/nodes/002F.html">[002F]</a>
  <span class='numbering'>Example 4.3·b</span> (Well-pointedness of the category of sets).
</header>


        <p>In the category of sets, to compare two morphisms it is enough to check
that they agree on global points. This means that the unary family
$\brc{\ObjTerm{\SET}}$ is a separator for $\SET$, a property referred to more generally as <em>well-pointedness</em>.</p>

      </section>

      <p>We will now generalize <a href="/math/nodes/002G.html" role="tooltip" aria-label="Definition 4.3·a. Separating family for a category" class="cref"><span class="numbering">Definition 4.3·a</span> <span class="slug">[002G]</span></a> to the case of a cartesian fibration.</p>

      <section id="002I">


<header class="inline">
  <a class="slug" href="/math/nodes/002I.html">[002I]</a>
  <span class='numbering'>Definition 4.3·c</span> (Agreement on a class of figure shapes).
</header>


        <p>Let $\bar{s}$ be a displayed object in a cartesian fibration $E$ over $B$.
A pair of displayed morphisms $f,g:\bar{x}\to \bar{y}\in E$ are said to
<em>agree on $\bar{s}$-figures</em> when for any $\bar{s}$-figure
$h : \bar{z}\to \bar{x}$ in the sense of <a href="/math/nodes/002K.html" role="tooltip" aria-label="Definition 2.9·b. Figures and figure shapes in the full subfibration" class="cref"><span class="numbering">Definition 2.9·b</span> <span class="slug">[002K]</span></a>, we have $h;f = h;g : \bar{z}\to \bar{y}$.</p>

      </section>

      <section id="002H">


<header class="inline">
  <a class="slug" href="/math/nodes/002H.html">[002H]</a>
  <span class='numbering'>Definition 4.3·d</span> (Small separator for a fibration).
</header>


        <p>Let $E$ be a cartesian fibration over $B$ such that $B$ has
binary products. A displayed object $\bar{s}\in E\Sub{s}$ is said to be a
<em>small separator</em> for $E$ when any two vertical maps $f,g:\bar{u}\to\Sub{\Idn{x}}\bar{v}\in E\Sub{x}$ are equal when they are agree on $\bar{s}$-figures in the sense of <a href="/math/nodes/002I.html" role="tooltip" aria-label="Definition 4.3·c. Agreement on a class of figure shapes" class="cref"><span class="numbering">Definition 4.3·c</span> <span class="slug">[002I]</span></a>.</p>

      </section>

    </section>

    <section id="002L">


<header>
  <h3>
    
      <span class="numbering">4.4.</span>
      Definable classes à la Bénabou
      <a class="slug" href="/math/nodes/002L.html">[002L]</a>
    
  </h3></header>




      <p>A class of sets $\mathfrak{C}$ is sometimes said to be <em>formally
definable</em> when there is a formula $\prn{x \mid
\phi\Sub{\mathfrak{C}}\prn{x}}$ in the language of set theory such that a
set $S$ lies in $\mathfrak{C}$ if and only if
$\phi\Sub{\mathfrak{C}}\prn{S}$ holds. This concept is a bit sensitive, as
it presupposes that we have a notion of “class” whose constituents are not
all definable in this sense.</p>

      <p>A better behaved notion of definability for sets than the formal one is
given <em>model-theoretically</em>, i.e. relative to a model $\mathscr{M}$ of set
theory in some ambient set theory <a class="citation" href="#benabou:1985">(Bénabou, 1985)</a>. We will refer to
an element of $\mathscr{M}$ as a set, and a subcollection of $\mathscr{M}$
as a class.</p>

      <section id="002U">


<header class="inline">
  <a class="slug" href="/math/nodes/002U.html">[002U]</a>
  <span class='numbering'>Definition 4.4·a</span> (Representable class of sets).
</header>


        <p>A class of sets $\mathfrak{C}\subseteq\mathscr{M}$ is called <em>representable</em> when there is a set $C\in\mathscr{M}$ such that $U\in C$ if and only if $U\in\mathfrak{C}$.</p>

      </section>

      <section id="002V">


<header class="inline">
  <a class="slug" href="/math/nodes/002V.html">[002V]</a>
  <span class='numbering'>Definition 4.4·b</span> (Definable class of sets).
</header>


        <p>A class of sets $\mathfrak{C}\subseteq\mathscr{M}$ is called <em>definable</em> when for any representable class $\mathfrak{S}$, the class $\mathfrak{C}\cap\mathfrak{S}$ is representable.</p>

      </section>

      <p>Bénabou then generalizes the definitions above to an arbitrary fibration,
in such a way that the general fibered notion of definable class is
equivalent in the fundamental self-indexing $\SelfIx{\mathscr{M}}$ to that of
definable classes in the sense of <a href="/math/nodes/002V.html" role="tooltip" aria-label="Definition 4.4·b. Definable class of sets" class="cref"><span class="numbering">Definition 4.4·b</span> <span class="slug">[002V]</span></a>.</p>

      <section id="002Q">


<header>
  <h4>
    
      <span class="numbering">4.4.1.</span>
      Set-theoretic intuition for Bénabou's definability
      <a class="slug" href="/math/nodes/002Q.html">[002Q]</a>
    
  </h4></header>




        <p>To motivate Bénabou’s general notion of definability, we will first develop an alternative
perspective on definability for classes of sets in terms of <em>families</em> of
sets.</p>

        <section id="002M">


<header class="inline">
  <a class="slug" href="/math/nodes/002M.html">[002M]</a>
  <span class='numbering'>Construction 4.4.1·a</span> (Closure of a class of sets under base change).
</header>


          <p>Let $\mathfrak{C}\subseteq\mathscr{M}$ be a class of sets; there exists a class $\bar{\mathfrak{C}}$ of <em>families</em>
of sets that contains $\prn{S\Sub{i}}\Sub{i\in I}$ exactly when each
$S\Sub{i}$ lies in $\mathfrak{C}$. We will refer to $\bar{\mathfrak{C}}$ as the <em>closure under base change</em> of $\mathfrak{C}$, a name motivated by the fact that when $\prn{S\Sub{i}}\Sub{i\in I}$ lies in $\bar{\mathfrak{C}}$,
then for any $u:J\to I$, the base change $\prn{S\Sub{uj}}\Sub{j\in J}$ also lies in $\bar{\mathfrak{C}}$.</p>

        </section>

        <section id="002N">


<header class="inline">
  <a class="slug" href="/math/nodes/002N.html">[002N]</a>
  <span class='numbering'>Construction 4.4.1·b</span> (From classes of families to classes of sets).
</header>


          <p>Conversely to <a href="/math/nodes/002M.html" role="tooltip" aria-label="Construction 4.4.1·a. Closure of a class of sets under base change" class="cref"><span class="numbering">Construction 4.4.1·a</span> <span class="slug">[002M]</span></a> we may take a class of families of sets $\mathfrak{F}$ to the the class of sets $\mathfrak{F}\Sub{1}\subseteq{\mathscr{M}}$ spanned by sets $S$ such that the singleton family $\brc{S}$ lies in $\mathfrak{C}$.</p>

        </section>

        <section id="002P">


<header class="inline">
  <a class="slug" href="/math/nodes/002P.html">[002P]</a>
  <span class='numbering'>Definition 4.4.1·c</span> (Definable class of families of sets).
</header>


          <p>A class of families of sets $\mathfrak{F}$ is said to be <em>definable</em> when it is stable and moreover, for any family of sets $\prn{S\Sub{i}}\Sub{i\in I}$, there exists a subset $J\subseteq I$ such that the base change $\prn{S\Sub{j}}\Sub{j\in J}$ lies in $\mathfrak{F}$, and moreover, such that $u:K\to I$ factors through $J\subseteq I$ whenever the base change $\prn{S\Sub{uk}}\Sub{k\in K}$ lies in $\mathfrak{F}$.</p>

        </section>

        <section id="002R">


<header class="inline">
  <a class="slug" href="/math/nodes/002R.html">[002R]</a>
  <span class='numbering'>Intuition 4.4.1·d</span>.
</header>


          <p>In other words, a stable class of families of sets is definable when any family of sets can be restricted to a “biggest” subfamily that lies in the class.</p>

        </section>

        <section id="002T">


<header class="inline">
  <a class="slug" href="/math/nodes/002T.html">[002T]</a>
  <span class='numbering'>Lemma 4.4.1·e</span> (Characterization of definable classes of families).
</header>


          <p>Let $\mathfrak{C}\subseteq\mathscr{M}$ be a class of sets; then $\bar{\mathfrak{C}}$ is a definable class of families of sets if and only if $\mathfrak{C}$ is a definable class of sets.</p>

          <p><strong>Proof.</strong> Suppose that $\mathfrak{C}$ is a definable class of sets. To
check that $\bar{\mathfrak{C}}$ is a definable class of families of sets,
we fix a family $\prn{S\Sub{i}}\Sub{i\in I}$ not necessarily lying in $\bar{\mathfrak{C}}$. Because $\mathfrak{C}$ is definable, the intersection $\mathfrak{C}\cap \bigcup\Sub{i\in I}S\Sub{i}$ is represented by a set $U$. We therefore take the subset $J = \brc{i \in I\mid S_i\in U}\subseteq I$, and verify that the base change $\prn{S\Sub{j}}\Sub{j\in J}$ is the largest approximation of $\prn{S\Sub{i}}\Sub{i\in I}$ by a family lying in $\bar{\mathfrak{C}}$.</p>

          <p>Conversely suppose that $\bar{\mathfrak{C}}$ is a definable class of families of sets. To see that $\mathfrak{C}$ is definable, we fix a class $\mathfrak{U}$ represented by a set $U\in\mathscr{M}$ to check that $\mathfrak{C}\cap\mathfrak{U}$ is representable. We consider the family of sets $\prn{u}\Sub{u\in U}$; because $\bar{\mathfrak{C}}$ is definable, there is a largest subset $V\subseteq U$ such that the change of base $\prn{v}\Sub{v\in V}$ lies in $\bar{\mathfrak{C}}$, i.e. such that each $v\in V$ lies in $\mathfrak{C}$. Therefore $\mathfrak{C}\cap\mathfrak{U}$ is represented by the set $V$.
<span style="float:right">∎</span></p>

        </section>

      </section>

      <section id="002S">


<header>
  <h4>
    
      <span class="numbering">4.4.2.</span>
      Bénabou's notion of definability
      <a class="slug" href="/math/nodes/002S.html">[002S]</a>
    
  </h4></header>




        <p>We will now construe <a href="/math/nodes/002Q.html" role="tooltip" aria-label="Section 4.4.1. Set-theoretic intuition for Bénabou&#39;s definability" class="cref"><span class="numbering">Section 4.4.1</span> <span class="slug">[002Q]</span></a> as the instantiation at the fundamental
self-indexing $\SelfIx{\mathscr{M}}$ of a more general notion of
definability for classes of objects in a cartesian fibration, defined
forthwith. The following definition of definability in a cartesian fibration is due to Bénabou, but is discussed in print by Borceux <a class="citation" href="#borceux:1994:vol2">(<i>Handbook of Categorical Algebra 2 – Categories and Structures</i>, 1994)</a>, Jacobs <a class="citation" href="#jacobs:1999">(<i>Categorical Logic and Type Theory</i>, 1999)</a>, Streicher <a class="citation" href="#streicher:2018">(<i>Fibred Categories à La Jean Bénabou</i>, 2018)</a>.</p>

        <section id="002W">


<header class="inline">
  <a class="slug" href="/math/nodes/002W.html">[002W]</a>
  <span class='numbering'>Definition 4.4.2·a</span> (Definable class in a fibration).
</header>


          <p>Let $E$ be a cartesian fibration over $B$. A <em>definable class</em>
$\mathfrak{F}$ in $E$ is a stable subcollection of the displayed objects of $E$
such that for any $\bar{u}\in E\Sub{u}$, there exists a cartesian map $\bar{v}\to \bar{u}$ lying over a monomorphism $v\rightarrowtail u$ such that $\bar{v}\in \mathfrak{F}$ and, moreover, any cartesian morphism $\bar{w}\to\bar{u}$ such that $\bar{w}\in\mathfrak{F}$ factors through $\bar{v}\to\bar{u}$.
<span class="antex display"><img style='margin: 0.0ex 0.028ex -2.813ex 0.0ex; height: 21.332ex; width: 60.17ex;' src="/math/antex/74b63e3c1fe8bcca1766580cc8a4186c.svg" /></span></p>

        </section>

        <section id="002O">


<header class="inline">
  <a class="slug" href="/math/nodes/002O.html">[002O]</a>
  <span class='numbering'>Remark 4.4.2·b</span>.
</header>


          <p>Let $\mathscr{M}$ be a model of <a href="http://ncatlab.org/nlab/show/ETCS">ETCS</a>; and let $\mathfrak{C}$ be a
class of families of sets in $\mathscr{M}$. Then $\mathfrak{C}$ is a class of
objects in the fundamental self-indexing $\SelfIx{\mathscr{M}}$ over
$\mathscr{M}$.  Furthermore, $\mathscr{M}$ a definable class in
$\SelfIx{\mathscr{M}}$ in the sense of <a href="/math/nodes/002W.html" role="tooltip" aria-label="Definition 4.4.2·a. Definable class in a fibration" class="cref"><span class="numbering">Definition 4.4.2·a</span> <span class="slug">[002W]</span></a> if and only if it is a
definable class of families of sets in the sense of <a href="/math/nodes/002P.html" role="tooltip" aria-label="Definition 4.4.1·c. Definable class of families of sets" class="cref"><span class="numbering">Definition 4.4.1·c</span> <span class="slug">[002P]</span></a>.</p>

        </section>

      </section>

    </section>

  </section>

  <section id="000N">


<header>
  <h2>
    
      <span class="numbering">5.</span>
      Small fibrations and internal categories
      <a class="slug" href="/math/nodes/000N.html">[000N]</a>
    
  </h2></header>




    <p>The purpose of this section is to develop the relationship between <em>internal
categories</em> (categories defined in the internal language of a category $B$) and
cartesian fibrations over $B$, generalizing the relationship between categories internal
to $\SET$ (i.e. small categories) and their family fibrations over $\SET$.</p>

    <section id="001Q">


<header class="inline">
  <a class="slug" href="/math/nodes/001Q.html">[001Q]</a>
  <span class='numbering'>Definition 5·a</span> (Small fibration).
</header>


      <p>A cartesian fibration is called <em>small</em> when it is both locally small
<a href="/math/nodes/000I.html" role="tooltip" aria-label="Section 4.1.3. The definition of local smallness" class="slug">[000I]</a> and globally small <a href="/math/nodes/000J.html" role="tooltip" aria-label="Section 4.2. Globally small fibrations" class="slug">[000J]</a>.</p>

    </section>

    <p>We have already seen in <a href="/math/nodes/000G.html" role="tooltip" aria-label="Section 4.1.1. Warmup: locally small family fibrations" class="cref"><span class="numbering">Section 4.1.1</span> <span class="slug">[000G]</span></a> and <a href="/math/nodes/000L.html" role="tooltip" aria-label="Theorem 4.2.1·b. Globally small categories" class="cref"><span class="numbering">Theorem 4.2.1·b</span> <span class="slug">[000L]</span></a> that smallness in the
sense of the definition above appropriately generalizes the ordinary notion of
smallness for categories over $\SET$. Another perspective on smallness is given
by the <em>internal language</em>, in which a category is viewed as an algebra for the
“theory of categories” computed in another category with enough structure. The
notion of internal categories is credited (independently) to Alexander
Grothendieck and Charles Ehresmann.</p>

    <section id="000O">


<header>
  <h3>
    
      <span class="numbering">5.1.</span>
      Internal categories
      <a class="slug" href="/math/nodes/000O.html">[000O]</a>
    
  </h3></header>




      <p>The notion of a (meta-)category is an <a href="http://ncatlab.org/nlab/show/essentially+algebraic+theory">essentially algebraic theory</a>. As such it is
possible to compute <em>models</em> of this theory in any category that has finite
limits.</p>

      <section id="001A">


<header class="inline">
  <a class="slug" href="/math/nodes/001A.html">[001A]</a>
  <span class='numbering'>Definition 5.1·a</span> (Internal category).
</header>


        <p>Let $E$ be a category with finite limits; then an <em>internal category</em>
in $E$ is defined by the following data:</p>

        <ol>
          <li>an object of objects $C\Sub{0}\in E$,</li>
          <li>an object of morphisms $C\Sub{1}\in E$,</li>
          <li>source and target morphisms $s,t:C\Sub{1}\to C\Sub{0}$,</li>
          <li>a generic identity morphism $C\Sub{0}\to C\Sub{1}$,</li>
          <li>a generic composition morphism $C\Sub{1}\times\Sub{C\Sub{0}}C\Sub{1}\to C\Sub{1}$,</li>
          <li>satisfying a number of laws corresponding to those of a category.</li>
        </ol>

        <p>For the details of these laws, we refer to the nLab (<a href="http://ncatlab.org/nlab/show/internal+category">internal category</a>).</p>

      </section>

    </section>

    <section id="000V">


<header>
  <h3>
    
      <span class="numbering">5.2.</span>
      The externalization of an internal category
      <a class="slug" href="/math/nodes/000V.html">[000V]</a>
    
  </h3></header>




      <section id="001R">


<header class="inline">
  <a class="slug" href="/math/nodes/001R.html">[001R]</a>
  <span class='numbering'>Construction 5.2·a</span>.
</header>


        <p>Let $C$ be an internal category in $E$. We may define a fibered category $\brk{C}$ over $E$ called the <em>externalization</em> of $C$.</p>

        <ol>
          <li>
            <p>Given $x\in E$, an object of $\brk{C}\Sub{x}$ is defined to be a morphism $x\to C\Sub{0}$ in $E$.</p>
          </li>
          <li>
            <p>Given $x,y\in E$ and $f:x\to y$ and $u \in \brk{C}\Sub{x}$ and $v\in
\brk{C}\Sub{y}$, a morphism $u\to\Sub{f} v$ is defined to be a morphism $h :
x\to C\Sub{1}$ in $E$ such that the following diagram commutes:
<span class="antex display"><img style='margin: -0.075ex 0.098ex -16.024ex 0.0ex; height: 31.173ex; width: 18.743ex;' src="/math/antex/5f637300581f782ec5c2a292f6c58407.svg" /></span></p>
          </li>
        </ol>

      </section>

      <section id="000W">


<header class="inline">
  <a class="slug" href="/math/nodes/000W.html">[000W]</a>
  <span class='numbering'>Lemma 5.2·b</span>.
</header>


        <p>The externalization <a href="/math/nodes/000V.html" role="tooltip" aria-label="Section 5.2. The externalization of an internal category" class="slug">[000V]</a> is a cartesian fibration.</p>

        <p><strong>Proof.</strong>
Given an object $v\in \brk{C}\Sub{y}$ and a
morphism $f:x\to y$ in $E$, we may define a cartesian lift
$\InvImg{f}v\to\Sub{f} v$ by setting $\InvImg{f}v = v\circ f : x \to C\Sub{0}$.
<span style="float:right">∎</span></p>

      </section>

      <section id="000X">


<header class="inline">
  <a class="slug" href="/math/nodes/000X.html">[000X]</a>
  <span class='numbering'>Lemma 5.2·c</span>.
</header>


        <p>The externalization <a href="/math/nodes/000V.html" role="tooltip" aria-label="Section 5.2. The externalization of an internal category" class="slug">[000V]</a> is globally small</p>

        <p><strong>Proof.</strong>
We may choose a generic object <a href="/math/nodes/000K.html" role="tooltip" aria-label="Section 4.2.1. Generic objects" class="slug">[000K]</a> for $\brk{C}$, namely the identity element $(C\Sub{0},\Idn{C\Sub{0}})\in \TotCat{\brk{C}}$. Given any object $(x,u)\in \TotCat{\brk{C}}$ the cartesian map $(x,u)\to (C\Sub{0},\Idn{C\Sub{0}})$ is given as follows:
<span class="antex display"><img style='margin: -0.075ex 0.097ex -17.056ex 0.0ex; height: 32.205ex; width: 18.647ex;' src="/math/antex/ce7ac4ab2528931bf6e45b760de9b5d5.svg" /></span>
<span style="float:right">∎</span></p>

      </section>

      <section id="000Y">


<header class="inline">
  <a class="slug" href="/math/nodes/000Y.html">[000Y]</a>
  <span class='numbering'>Lemma 5.2·d</span>.
</header>


        <p>The externalization <a href="/math/nodes/000V.html" role="tooltip" aria-label="Section 5.2. The externalization of an internal category" class="slug">[000V]</a> is locally small</p>

        <p><strong>Proof.</strong>
Fix $x\in E$ and $u,v\in
\brk{C}\Sub{x}$, we must exhibit a terminal object to the (total) category
$\TotCat{\CandHom{x}{u}{v}}$ of “hom candidates” defined in <a href="/math/nodes/000I.html" role="tooltip" aria-label="Section 4.1.3. The definition of local smallness" class="slug">[000I]</a>.
First we define $\brk{u,v}$ to be the following pullback in $E$:
<span class="antex display"><img style='margin: -0.052ex 0.23ex -3.523ex 0.0ex; height: 20.582ex; width: 23.189ex;' src="/math/antex/6242be2e4354a155482db98762786a01.svg" /></span></p>

        <p>We define $\overline{p}:\InvImg{\brk{u,v}}{u}\to\Sub{p} u\in \brk{C}\Sub{\brk{u,v}}$ to be
the cartesian lift of $u\in \brk{C}\Sub{x}$ along $p:\brk{u,v}\to x$:
<span class="antex display"><img style='margin: 0.0ex 0.029ex -2.651ex 0.0ex; height: 16.923ex; width: 19.593ex;' src="/math/antex/b7db3956ef5248eb93631aa2cc62d275.svg" /></span></p>

        <p>We need to define a displayed evaluation map
$\epsilon : \InvImg{\brk{u,v}}u\to\Sub{p} v$; unraveling the definition of a displayed
morphism in the externalization of $C$, we choose the following diagram:</p>

        <p><span class="antex display"><img style='margin: -0.05ex 0.098ex -16.024ex 0.0ex; height: 32.049ex; width: 18.703ex;' src="/math/antex/fd0b10b06f2a4bfcb834fcadc4f234d5.svg" /></span></p>

        <p>Putting all this together, we assert that the terminal object of
$\TotCat{\CandHom{x}{u}{v}}$ is the following span in $\brk{C}$:
<span class="antex display"><img style='margin: 0.002ex 0.028ex -13.144ex 0.0ex; height: 16.815ex; width: 30.861ex;' src="/math/antex/0bcb367c4d60fee68ebcc726774e5e92.svg" /></span></p>

        <p>Fixing another such candidate hom span $\brc{u \leftarrow \bar{h}\rightarrow v}\in\TotCat{\CandHom{x}{u}{v}}$, according to <a href="/math/nodes/000I.html" role="tooltip" aria-label="Section 4.1.3. The definition of local smallness" class="slug">[000I]</a> we must exhibit a unique cartesian morphism $\bar\alpha : \bar{h}\to \InvImg{\brk{u,v}}{u}$ making the following diagram commute:
   <span class="antex display"><img style='margin: 0.002ex 0.112ex -9.044ex 0.0ex; height: 18.396ex; width: 24.017ex;' src="/math/antex/a5b39bbded0af6848664125e11a54289.svg" /></span></p>

        <p>First we note that the evaluation map $\epsilon\Sub{h} : \bar{h}\to v$ amounts
to an internal morphism $h\to C\Sub{1}$ satisfying the appropriate
compatibility conditions. Therefore we may define the base $\alpha:h\to \brk{u,v}$ of
the universal map using the universal property of the pullback that defines $\brk{u,v}$:
<span class="antex display"><img style='margin: -0.022ex 0.227ex -17.32ex -0.102ex; height: 29.58ex; width: 33.14ex;' src="/math/antex/1b397b7ff0e27f40c6bb6b6473d9e68a.svg" /></span></p>

        <p>The morphism $\alpha:h\to \brk{u,v}$ defined above is the <em>unique</em> map in $E$
satisfying the conditions required of the base for $\bar\alpha$; therefore, it
suffices to show that there exists a cartesian morphism
$\bar\alpha:\bar{h}\to\Sub{\alpha}\InvImg{\brk{u,v}}u$ since it will be unique if it
exists. We define $\bar\alpha$ using the universal property of the cartesian lift:
<span class="antex display"><img style='margin: 0.002ex 0.028ex -17.499ex 0.0ex; height: 25.525ex; width: 29.723ex;' src="/math/antex/2901b871830c212037892f560c307929.svg" /></span></p>

        <p>That $\bar{\alpha}:\bar{h}\to\Sub{\alpha}\InvImg{\brk{u,v}}u$ is cartesian follows from the
“generalized pullback lemma” for cartesian morphisms <a href="/math/nodes/0014.html" role="tooltip" aria-label="Section 2.2. The generalized pullback lemma" class="slug">[0014]</a>: it suffices
to observe that both $\bar{p}\Sub{h}:\bar{h}\to u$ and its second factor
$\bar{p}:\InvImg{\brk{u,v}}u\to u$ are cartesian.
<span style="float:right">∎</span></p>

      </section>

    </section>

    <section id="0011">


<header>
  <h3>
    
      <span class="numbering">5.3.</span>
      The full internal subcategory associated to a displayed object
      <a class="slug" href="/math/nodes/0011.html">[0011]</a>
    
  </h3></header>




      <p>The full internal subfibration (<a href="/math/nodes/0010.html" role="tooltip" aria-label="Construction 2.9·a. The full subfibration associated to a displayed object" class="cref"><span class="numbering">Construction 2.9·a</span> <span class="slug">[0010]</span></a>) associated to a displayed object $\bar{u}$ of a locally small cartesian fibration $E$ over $B$ can be seen to be equivalent to the externalization
of an internal category $\gl{\bar{u}}$ in $B$. In particular, we let the object of objects $\gl{\bar{u}}\Sub{0}$ be $u$ itself; defining the object of arrows $\gl{\bar{u}}\Sub{1}$ is more complex, making critical use of the local smalness of $E$ over $B$.</p>

      <p>We will think of the fiber $E\Sub{u\times u}$ as the category of
objects indexed in the <em>boundary</em> (source and target) of a morphism. Restricting $\bar{u}$ along the source and target projections, we obtain the displayed objects of “points of the source” and “points of the target” respectively:
<span class="antex display"><img style='margin: 0.002ex 0.029ex -2.542ex 0.0ex; height: 16.603ex; width: 44.872ex;' src="/math/antex/9d5cc02ba990e2d373253bcd9c57b022.svg" /></span></p>

      <p>Because $E$ is locally small, there is an object
$\brk{\bar\partial\Sub{1},\bar\partial\Sub{2}}\in \Sl{B}{u\times u}$ that
behaves as the “generic hom set”. We define $\gl{\bar{u}}\Sub{1}\in B$ and its
source and target projections to be this very object.</p>

      <section id="001S">


<header class="inline">
  <a class="slug" href="/math/nodes/001S.html">[001S]</a>
  <span class='numbering'>Theorem 5.3·a</span>.
</header>


        <p>The externalization $\brk{\gl{\bar{u}}}$ of the internal category $\gl{\bar{u}}$ is equivalent to $\FullSubfib{\bar{u}}$.</p>

        <p><strong>Proof.</strong> We will define a fibred equivalence $F : \brk{\gl{\bar{u}}}\to \FullSubfib{\bar{u}}$ over $B$.</p>

        <ol>
          <li>
            <p>Fix $x\in B$ and $\chi\Sub{x} \in \brk{\gl{\bar{u}}}\Sub{x}$, i.e. $\chi\Sub{x} : x\to u$; we define $F\prn{\chi\Sub{x}}$ to be an arbitrary cartesian map $\phi\Sub{x} : \bar{x}\to\Sub{\chi\Sub{x}} \bar{u}$. (Here we have used the axiom of choice for collections <a href="/math/nodes/000R.html" role="tooltip" aria-label="Section 1. Foundational assumptions" class="slug">[000R]</a>.)</p>
          </li>
          <li>
            <p>Fix $f : x\to y\in B$ and $\chi\Sub{x} :x\to u$ and $\chi\Sub{y}:y\to u$ and a diagram representing a displayed morphism $h$ from $\chi\Sub{x}$ to $\chi\Sub{y}$ over $f$ as below:
<span class="antex display"><img style='margin: -0.05ex 0.27ex -16.671ex 0.0ex; height: 31.208ex; width: 19.938ex;' src="/math/antex/fccc101c343f2b310ab45dbb698a2ab3.svg" /></span></p>

            <p>We must define $F\prn{h}:\bar{x}\to\Sub{f} \bar{y}$, fixing arbitrary
cartesian maps $\bar\chi\Sub{x}:\bar{x}\to\Sub{\chi\Sub{x}}\bar{u}$ and
$\bar\chi\Sub{y}:\bar{y}\to\Sub{\chi\Sub{y}}\bar{u}$. First we lift $h:x\to \brk{\bar\partial\Sub{1},\bar\partial\Sub{2}}$
into $E$ using the universal property of the cartesian lift:
<span class="antex display"><img style='margin: 0.002ex 0.028ex -18.32ex 0.0ex; height: 29.727ex; width: 53.956ex;' src="/math/antex/b903b5d6c751580f28e09583efc2aba4.svg" /></span></p>

            <p>By composition with the “evaluation map” for our hom object, we have a map $\bar{x}\to\Sub{f;\chi\Sub{y}}\bar{u}$:
<span class="antex display"><img style='margin: 0.002ex 0.028ex -25.06ex 0.0ex; height: 28.892ex; width: 54.051ex;' src="/math/antex/a49c6b83c32f08ede2fbed40609f9f5d.svg" /></span></p>

            <p>Next we define $F\prn{h}:\bar{x}\to\Sub{f}\bar{y}$ using the universal property of (another) cartesian lift:
<span class="antex display"><img style='margin: 0.002ex 0.029ex -13.784ex 0.0ex; height: 22.907ex; width: 33.534ex;' src="/math/antex/d8ac97001b4357c573a975bfc200db88.svg" /></span>
<span style="float:right">∎</span></p>
          </li>
        </ol>

      </section>

    </section>

    <section id="000Z">


<header>
  <h3>
    
      <span class="numbering">5.4.</span>
      The internalization of a small fibration
      <a class="slug" href="/math/nodes/000Z.html">[000Z]</a>
    
  </h3></header>




      <p>Let $C$ be a small cartesian fibration (<a href="/math/nodes/001Q.html" role="tooltip" aria-label="Definition 5·a. Small fibration" class="cref"><span class="numbering">Definition 5·a</span> <span class="slug">[001Q]</span></a>) over $B$ a category with finite
limits, i.e. a cartesian fibration that is both locally small (<a href="/math/nodes/001B.html" role="tooltip" aria-label="Definition 4.1.3·b. Locally small fibration" class="cref"><span class="numbering">Definition 4.1.3·b</span> <span class="slug">[001B]</span></a>) and globally
small (<a href="/math/nodes/000P.html" role="tooltip" aria-label="Definition 4.2·b. Globally small fibration" class="cref"><span class="numbering">Definition 4.2·b</span> <span class="slug">[000P]</span></a>). We will show that $C$ is equivalent to the externalization
<a href="/math/nodes/000V.html" role="tooltip" aria-label="Section 5.2. The externalization of an internal category" class="slug">[000V]</a> of an internal category <a href="/math/nodes/000O.html" role="tooltip" aria-label="Section 5.1. Internal categories" class="slug">[000O]</a> $\underline{C}$ in $B$,
namely the full internal subcategory <a href="/math/nodes/0011.html" role="tooltip" aria-label="Section 5.3. The full internal subcategory associated to a displayed object" class="slug">[0011]</a> associated to the generic
object $\bar{u}\in C$.</p>

      <p>By <a href="/math/nodes/001S.html" role="tooltip" aria-label="Theorem 5.3·a." class="cref"><span class="numbering">Theorem 5.3·a</span> <span class="slug">[001S]</span></a> we know that the externalization of $\underline{C}$ so-defined
is equivalent to the full subfibration $\FullSubfib{\bar{u}}$ of $C$ spanned by
objects that are “classified” by $\bar{u}$. Because $\bar{u}$ is generic, we
know that <em>every</em> object of $C$ is classified by $\bar{u}$, so we are done.</p>

    </section>

  </section>

  <section id="0012">


<header>
  <h2>
    
      <span class="numbering">6.</span>
      Other kinds of fibrations
      <a class="slug" href="/math/nodes/0012.html">[0012]</a>
    
  </h2></header>




    <section id="0015">


<header>
  <h3>
    
      <span class="numbering">6.1.</span>
      Cocartesian fibrations
      <a class="slug" href="/math/nodes/0015.html">[0015]</a>
    
  </h3></header>




      <p>Cocartesian fibrations are a dual notion to cartesian fibrations, in which the
variance of indexing is reversed.</p>

      <section id="0016">


<header class="inline">
  <a class="slug" href="/math/nodes/0016.html">[0016]</a>
  <span class='numbering'>Definition 6.1·a</span> (Cocartesian morphism).
</header>


        <p>Let $E$ be displayed over $B$, and let $f:x\to y \in B$; a morphism
$\bar{f}:\bar{x}\to\Sub{f} \bar{y}$ in $E$ is called <em>cocartesian</em> over $f$ when for
any $m:y\to u$ and $\bar{h}:\bar{x}\to\Sub{f;m} \bar{u}$ there exists a unique
$\bar{m} : \bar{y}\to\Sub{m} \bar{u}$ with $\bar{f};\bar{m} = \bar{h}$:
<span class="antex display"><img style='margin: 0.042ex 0.028ex -13.784ex 0.0ex; height: 25.436ex; width: 26.929ex;' src="/math/antex/8167edc78c9a9a040bb4d055e2cfc099.svg" /></span></p>

      </section>

      <p>We use a “pushout corner” to indicate $\bar{x}\to\bar{y}$ as a cocartesian morphism,
a notation justified by <a href="/math/nodes/0019.html" role="tooltip" aria-label="Section 6.1.3. Example: The dual self-indexing" class="cref"><span class="numbering">Section 6.1.3</span> <span class="slug">[0019]</span></a>.</p>

      <section id="0017">


<header class="inline">
  <a class="slug" href="/math/nodes/0017.html">[0017]</a>
  <span class='numbering'>Definition 6.1·b</span> (Cocartesian fibration).
</header>


        <p>A displayed category $E$ over $B$ is a <em>cocartesian fibration</em> when for each
$f : x \to y\in B$ and $\bar{x}\in E\Sub{x}$, there exists a displayed object
$\bar{y}\in E\Sub{y}$ and a <em>cocartesian</em> morphism $\bar{f} : \bar{x}\to\Sub{f} \bar{y}$.</p>

      </section>

      <p><strong>Remark.</strong> These are also known as <em>opfibrations</em>.</p>

      <section id="0018">


<header>
  <h4>
    
      <span class="numbering">6.1.1.</span>
      The total opposite of a displayed category
      <a class="slug" href="/math/nodes/0018.html">[0018]</a>
    
  </h4></header>




        <section id="001I">


<header class="inline">
  <a class="slug" href="/math/nodes/001I.html">[001I]</a>
  <span class='numbering'>Construction 6.1.1·a</span>.
</header>


          <p>Let $E$ be displayed over $B$; we define its <em>total opposite</em> $\TotOpCat{E}$
displayed over $\OpCat{B}$ as follows:</p>

          <ol>
            <li>
              <p>An object of $\TotOpCat{E}\Sub{x}$ is given by an object of $E\Sub{x}$.</p>
            </li>
            <li>
              <p>Given $f : x \to y\in \OpCat{B}$, a displayed morphism $\bar{x}\to\Sub{f} \bar{y}$ in $\TotOpCat{E}$
is given by a displayed morphism $\bar{y}\to\Sub{f} \bar{x}$ in $E$.</p>
            </li>
          </ol>

        </section>

        <p><strong>Warning.</strong> Do not confuse this construction with <a href="/math/nodes/001Z.html" role="tooltip" aria-label="Construction 2.6·a." class="cref"><span class="numbering">Construction 2.6·a</span> <span class="slug">[001Z]</span></a>, which produces a
displayed category over $B$ and not $\OpCat{B}$.</p>

        <section id="001J">


<header class="inline">
  <a class="slug" href="/math/nodes/001J.html">[001J]</a>
  <span class='numbering'>Exercise 6.1.1·b</span>.
</header>


          <p>Let $E$ be displayed over $B$. Prove that the total category (<a href="/math/nodes/000A.html" role="tooltip" aria-label="Section 3.1. The total category and its projection" class="cref"><span class="numbering">Section 3.1</span> <span class="slug">[000A]</span></a>)
$\TotCat{\TotOpCat{E}}$ is $\OpCat{\prn{\TotCat{E}}}$, and its projection functor is
$\OpCat{\prn{p\Sub{E}}} : \OpCat{\TotCat{E}}\to\OpCat{B}$.</p>

        </section>

        <section id="001K">


<header class="inline">
  <a class="slug" href="/math/nodes/001K.html">[001K]</a>
  <span class='numbering'>Exercise 6.1.1·c</span>.
</header>


          <p>Let $E$ be displayed over $B$, and let $f:x\to y\in B$. Prove that a
morphism $\bar{f}:\bar{x}\to\Sub{f}\bar{y}$ is cartesian over $f$ in $E$ if and only
if $\bar{f}:\bar{y}\to\Sub{f}\bar{x}$ is cocartesian over $f$ in $\TotOpCat{E}$.</p>

        </section>

        <section id="001L">


<header class="inline">
  <a class="slug" href="/math/nodes/001L.html">[001L]</a>
  <span class='numbering'>Exercise 6.1.1·d</span>.
</header>


          <p>Prove that a displayed category $E$ is a cartesian fibration over $B$
if and only if $\TotOpCat{E}$ is a cocartesian fibration over $\OpCat{B}$.</p>

        </section>

      </section>

      <section id="002X">


<header>
  <h4>
    
      <span class="numbering">6.1.2.</span>
      Example: Revisiting the fundamental self-indexing
      <a class="slug" href="/math/nodes/002X.html">[002X]</a>
    
  </h4></header>




        <p>Recall that the fundamental self-indexing $\SelfIx{B}$ (<a href="/math/nodes/001X.html" role="tooltip" aria-label="Construction 2.1·a. The fundamental self-indexing" class="cref"><span class="numbering">Construction 2.1·a</span> <span class="slug">[001X]</span></a>) of a category $B$
is a displayed category with $\SelfIx{B}\Sub{x} = \Sl{B}{x}$.
As discussed in <a href="/math/nodes/001Y.html" role="tooltip" aria-label="Exercise 2.1·b." class="cref"><span class="numbering">Exercise 2.1·b</span> <span class="slug">[001Y]</span></a>, $\SelfIx{B}$ is a cartesian fibration over $B$ if and
only if $B$ has pullbacks. However, $\SelfIx{B}$ is unconditionally a <em>cocartesian</em>
fibration.</p>

        <section id="002Y">


<header class="inline">
  <a class="slug" href="/math/nodes/002Y.html">[002Y]</a>
  <span class='numbering'>Exercise 6.1.2·a</span>.
</header>


          <p>Prove that $\SelfIx{B}$ from <a href="/math/nodes/001X.html" role="tooltip" aria-label="Construction 2.1·a. The fundamental self-indexing" class="slug">[001X]</a> is a cocartesian fibration for any category $B$.</p>

        </section>

      </section>

      <section id="0019">


<header>
  <h4>
    
      <span class="numbering">6.1.3.</span>
      Example: The dual self-indexing
      <a class="slug" href="/math/nodes/0019.html">[0019]</a>
    
  </h4></header>




        <p>Dually to the fundamental self-indexing (<a href="/math/nodes/001X.html" role="tooltip" aria-label="Construction 2.1·a. The fundamental self-indexing" class="cref"><span class="numbering">Construction 2.1·a</span> <span class="slug">[001X]</span></a>), every category $B$ can
also be displayed over itself via its <em>coslices</em> $\CoSl{x}{B}$.</p>

        <section id="002Z">


<header class="inline">
  <a class="slug" href="/math/nodes/002Z.html">[002Z]</a>
  <span class='numbering'>Construction 6.1.3·a</span>.
</header>


          <p>Let $B$ be a category. Define the displayed category $\overline{B}$ over $B$ as
follows:</p>

          <ol>
            <li>For $x\in B$, define $\overline{B}\Sub{x}$ as the collection of pairs
$(\bar{x}\in B,p\Sub{x}:x\to\bar{x})$.</li>
            <li>For $f : x\to y\in B$, define $\overline{B}\Sub{f}$ to be the collection of
commuting squares in the following configuration:
<span class="antex display"><img style='margin: -0.05ex 0.082ex -3.754ex -0.104ex; height: 19.442ex; width: 21.774ex;' src="/math/antex/f97189be99747030c50c13f6b9b2b593.svg" /></span></li>
          </ol>

        </section>

        <section id="001M">


<header class="inline">
  <a class="slug" href="/math/nodes/001M.html">[001M]</a>
  <span class='numbering'>Exercise 6.1.3·b</span>.
</header>


          <p>Prove that $\overline{B}$ is a cocartesian fibration if and only if
$B$ has pushouts.</p>

        </section>

        <section id="001N">


<header class="inline">
  <a class="slug" href="/math/nodes/001N.html">[001N]</a>
  <span class='numbering'>Exercise 6.1.3·c</span>.
</header>


          <p>Prove that the total category (<a href="/math/nodes/000A.html" role="tooltip" aria-label="Section 3.1. The total category and its projection" class="cref"><span class="numbering">Section 3.1</span> <span class="slug">[000A]</span></a>) of $\overline{B}$ is the
arrow category $B^{\to}$, and the projection is the <em>domain</em> functor.</p>

        </section>

        <section id="0030">


<header class="inline">
  <a class="slug" href="/math/nodes/0030.html">[0030]</a>
  <span class='numbering'>Exercise 6.1.3·d</span>.
</header>


          <p>Prove that $\overline{B}$ is a cartesian fibration for any category $B$.</p>

        </section>

      </section>

    </section>

    <section id="0013">


<header>
  <h3>
    
      <span class="numbering">6.2.</span>
      Right fibrations
      <a class="slug" href="/math/nodes/0013.html">[0013]</a>
    
  </h3></header>




      <section id="001O">


<header class="inline">
  <a class="slug" href="/math/nodes/001O.html">[001O]</a>
  <span class='numbering'>Definition 6.2·a</span>.
</header>


        <p>A cartesian fibration $E$ over $B$ is said to be a <em>right fibration</em>
when all displayed morphisms in $E$ are cartesian.</p>

      </section>

      <p>Recall from <a href="/math/nodes/0005.html" role="tooltip" aria-label="Section 2.5. Fiber categories and vertical maps" class="cref"><span class="numbering">Section 2.5</span> <span class="slug">[0005]</span></a> that for every $b\in B$, the collection of displayed
objects $E\Sub{b}$ and vertical maps $E\Sub{1\Sub{b}}$ forms a category. When $E$ is
a right fibration over $B$, this category is in fact a <em>groupoid</em>.</p>

      <section id="001P">


<header class="inline">
  <a class="slug" href="/math/nodes/001P.html">[001P]</a>
  <span class='numbering'>Theorem 6.2·b</span> (Characterization of right fibrations).
</header>


        <p>A cartesian fibration $E$ over $B$ is a right fibration if and only if
all its vertical maps are isomorphisms.</p>

        <p><strong>Proof.</strong> Suppose that $E$ is a right fibration over $B$, and fix $b\in B$,
$\bar{b}\in E\Sub{b}$, and a vertical map $f:\bar{b}\to\Sub{1\Sub{b}} \bar{b}$.
Using the hypothesis that $f$ is cartesian, it has a unique section
$g:\bar{b}\to\Sub{1\Sub{b}} \bar{b}$ as follows:
<span class="antex display"><img style='margin: 0.0ex 0.0ex -11.72ex 0.0ex; height: 21.334ex; width: 26.26ex;' src="/math/antex/fdfedbc9af1b9a239bd6127dd2ca5af6.svg" /></span>
Likewise, because $g$ is cartesian, $f$ is the unique section of $g$; thus $f$ is an
isomorphism in $E\Sub{b}$.</p>

        <p>Conversely, suppose that $E$ is a cartesian fibration whose vertical maps are
isomorphisms. Fix $f:x\to y \in B$ and an arbitrary displayed morphism
$\bar{g}:\bar{x}\to\Sub{f}\bar{y}$. Then $\bar{g}$ is the precomposition of a
cartesian lift $\bar{f}:\bar{x}\tick\to\Sub{f}\bar{y}$ with a vertical map:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.291ex; width: 26.924ex;' src="/math/antex/2fc9d4fc9b97197882dac5815bb2746c.svg" /></span>
Because vertical maps are isomorphisms and $\bar{f}$ is cartesian, we can observe
that $\bar{g}$ is cartesian as follows, writing $\bar{m} : \bar{u}\to\Sub{m}
\bar{x}\tick$ for the unique factorization of $\bar{h}$ through $\bar{f}$ over $m$:
<span class="antex display"><img style='margin: 0.002ex 0.077ex -13.784ex 0.0ex; height: 25.904ex; width: 30.398ex;' src="/math/antex/5802a79efeac534d2226a0f931b4bbee.svg" /></span>
<span style="float:right">∎</span></p>

      </section>

    </section>

  </section>

</section>

  </div>

  <style>
  nav.d-pad {
    display: flex;
    flex-direction: row;
    justify-content: space-around;
    flex-wrap: wrap;
    margin: 3rem 0rem 4rem 0rem;
    gap: 0.6rem;
  }

  nav.d-pad i.arrow {
    display: inline-block;
    font-style: normal;
    position: relative;
    width: 0.6em;
    height: 0.6em;
    border: 0.2em solid black;
    border-bottom: unset;
    border-left: unset;
    box-sizing: border-box;
  }
  nav.d-pad i.arrow.left {
    transform: rotate(-135deg);
  }
  nav.d-pad i.arrow.right {
    transform: rotate(45deg);
  }
  nav.d-pad a.prev { text-align: right; }
  nav.d-pad a.next { text-align: left; }
</style>

<nav class="d-pad">











</nav>


  

  
  
    <h4>Bibliography</h4>
    <ol class="bibliography"><li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="ahrens-lumsdaine:2019">Ahrens, B., &amp; Lumsdaine, P. L. F. (2019). Displayed Categories. <i>Logical Methods in Computer Science</i>, <i>15</i>(1). https://doi.org/10.23638/LMCS-15(1:20)2019</span>
    
    <span><a href="http://arxiv.org/abs/1705.04296">arXiv:1705.04296</a>.</span>
    
    
</div>
<a class="details" href="/math/bibliography/ahrens-lumsdaine_2019.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="sga:1">Grothendieck, A. (1971). <i>Revêtements étales et groupe fondamental (SGA 1)</i> (Vol. 224). Springer-Verlag.</span>
    
    
</div>
<a class="details" href="/math/bibliography/sga_1.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="streicher:2018">Streicher, T. (2018). <i>Fibred Categories à la Jean Bénabou</i>.</span>
    
    <span><a href="http://arxiv.org/abs/1801.02927">arXiv:1801.02927</a>.</span>
    
    
</div>
<a class="details" href="/math/bibliography/streicher_2018.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="lawvere-schanuel:2009">Lawvere, F. W., &amp; Schanuel, S. H. (2009). <i>Conceptual Mathematics: A First Introduction to Categories</i> (2nd ed.). Cambridge University Press.</span>
    
    
</div>
<a class="details" href="/math/bibliography/lawvere-schanuel_2009.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="street:1980">Street, R. (1980). Fibrations in bicategories. <i>Cahiers De Topologie Et Géométrie Différentielle Catégoriques</i>, <i>21</i>(2), 111–160. http://eudml.org/doc/91227</span>
    
    
</div>
<a class="details" href="/math/bibliography/street_1980.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="jacobs:1999">Jacobs, B. (1999). <i>Categorical Logic and Type Theory</i> (Number 141). North Holland.</span>
    
    
</div>
<a class="details" href="/math/bibliography/jacobs_1999.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="benabou:1985">Bénabou, J. (1985). Fibered categories and the foundations of naive category theory. <i>Journal of Symbolic Logic</i>, <i>50</i>(1), 10–37. https://doi.org/10.2307/2273784</span>
    
    
</div>
<a class="details" href="/math/bibliography/benabou_1985.html">Details</a></li>
<li><!-- _layouts/bib.html -->
<div class="text-justify">
    <span id="borceux:1994:vol2">Borceux, F. (1994). <i>Handbook of Categorical Algebra 2 – Categories and Structures</i>. Cambridge University Press.</span>
    
    
</div>
<a class="details" href="/math/bibliography/borceux_1994_vol2.html">Details</a></li></ol>
  

</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/math/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">The Nursery</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">The Nursery</li><li><a class="u-email" href="mailto:jon@jonmsterling.com">jon@jonmsterling.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/jonsterling"><svg class="svg-icon"><use xlink:href="/math/assets/minima-social-icons.svg#github"></use></svg> <span class="username">jonsterling</span></a></li><li><a href="https://www.twitter.com/jonmsterling"><svg class="svg-icon"><use xlink:href="/math/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">jonmsterling</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>A mathematical web page.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
